

<!DOCTYPE html>
<html lang="zh-CN" data-default-color-scheme=&#34;auto&#34;>



<head>
  <meta charset="UTF-8">
  <link rel="apple-touch-icon" sizes="76x76" href="/img/logo.png">
  <link rel="icon" href="/img/logo.png">
  <meta name="viewport"
        content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, shrink-to-fit=no">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  
  <meta name="theme-color" content="#2f4154">
  <meta name="description" content="">
  <meta name="author" content="Mr.BelieVe">
  <meta name="keywords" content="">
  
  <title>cisco课程代码记录 - Mr.BelieVe&#39;s Treasure</title>

  <link  rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css" />


  <link  rel="stylesheet" href="https://cdn.jsdelivr.net/npm/github-markdown-css@4.0.0/github-markdown.min.css" />
  <link  rel="stylesheet" href="/lib/hint/hint.min.css" />

  
    
    
      
      <link  rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@10.4.0/styles/github-gist.min.css" />
    
  

  
    <link  rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.css" />
  



<!-- 主题依赖的图标库，不要自行修改 -->

<link rel="stylesheet" href="//at.alicdn.com/t/font_1749284_ba1fz6golrf.css">



<link rel="stylesheet" href="//at.alicdn.com/t/font_1736178_kmeydafke9r.css">


<link  rel="stylesheet" href="/css/main.css" />

<!-- 自定义样式保持在最底部 -->


  <script id="fluid-configs">
    var Fluid = window.Fluid || {};
    var CONFIG = {"hostname":"yoursite.com","root":"/","version":"1.8.9-a","typing":{"enable":true,"typeSpeed":70,"cursorChar":"_","loop":false},"anchorjs":{"enable":true,"element":"h1,h2,h3,h4,h5,h6","placement":"right","visible":"hover","icon":""},"progressbar":{"enable":true,"height_px":3,"color":"#29d","options":{"showSpinner":false,"trickleSpeed":100}},"copy_btn":true,"image_zoom":{"enable":true},"toc":{"enable":true,"headingSelector":"h1,h2,h3,h4,h5,h6","collapseDepth":0},"lazyload":{"enable":true,"loading_img":"/img/loading.gif","onlypost":false,"offset_factor":2},"web_analytics":{"enable":false,"baidu":null,"google":null,"gtag":null,"tencent":{"sid":null,"cid":null},"woyaola":null,"cnzz":null,"leancloud":{"app_id":null,"app_key":null,"server_url":null}}};
  </script>
  <script  src="/js/utils.js" ></script>
  <script  src="/js/color-schema.js" ></script>
<meta name="generator" content="Hexo 5.4.0"><link rel="alternate" href="/atom.xml" title="Mr.BelieVe's Treasure" type="application/atom+xml">
</head>


<body>
  <header style="height: 70vh;">
    <nav id="navbar" class="navbar fixed-top  navbar-expand-lg navbar-dark scrolling-navbar">
  <div class="container">
    <a class="navbar-brand"
       href="/">&nbsp;<strong>Mr.BelieVe's Treasure</strong>&nbsp;</a>

    <button id="navbar-toggler-btn" class="navbar-toggler" type="button" data-toggle="collapse"
            data-target="#navbarSupportedContent"
            aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <div class="animated-icon"><span></span><span></span><span></span></div>
    </button>

    <!-- Collapsible content -->
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav ml-auto text-center">
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/">
                <i class="iconfont icon-home-fill"></i>
                首页
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/archives/">
                <i class="iconfont icon-archive-fill"></i>
                归档
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/categories/">
                <i class="iconfont icon-category-fill"></i>
                分类
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/tags/">
                <i class="iconfont icon-tags-fill"></i>
                标签
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/about/">
                <i class="iconfont icon-user-fill"></i>
                关于
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/links/">
                <i class="iconfont icon-link-fill"></i>
                友链
              </a>
            </li>
          
        
        
          <li class="nav-item" id="search-btn">
            <a class="nav-link" data-toggle="modal" data-target="#modalSearch">&nbsp;<i
                class="iconfont icon-search"></i>&nbsp;</a>
          </li>
        
        
          <li class="nav-item" id="color-toggle-btn">
            <a class="nav-link" href="javascript:">&nbsp;<i
                class="iconfont icon-dark" id="color-toggle-icon"></i>&nbsp;</a>
          </li>
        
      </ul>
    </div>
  </div>
</nav>

    <div class="banner" id="banner" parallax=true
         style="background: url('/img/default.png') no-repeat center center;
           background-size: cover;">
      <div class="full-bg-img">
        <div class="mask flex-center" style="background-color: rgba(0, 0, 0, 0.3)">
          <div class="page-header text-center fade-in-up">
            <span class="h2" id="subtitle" title="cisco课程代码记录">
              
            </span>

            
              <div class="mt-3">
  
  
    <span class="post-meta">
      <i class="iconfont icon-date-fill" aria-hidden="true"></i>
      <time datetime="2020-03-31 12:14" pubdate>
        2020年3月31日 中午
      </time>
    </span>
  
</div>

<div class="mt-1">
  
    
    <span class="post-meta mr-2">
      <i class="iconfont icon-chart"></i>
      11.9k 字
    </span>
  

  
    
    <span class="post-meta mr-2">
      <i class="iconfont icon-clock-fill"></i>
      
      
      181
       分钟
    </span>
  

  
  
</div>

            
          </div>

          
        </div>
      </div>
    </div>
  </header>

  <main>
    
      

<div class="container-fluid nopadding-x">
  <div class="row nomargin-x">
    <div class="d-none d-lg-block col-lg-2"></div>
    <div class="col-lg-8 nopadding-x-md">
      <div class="container nopadding-x-md" id="board-ctn">
        <div class="py-5" id="board">
          <article class="post-content mx-auto">
            <!-- SEO header -->
            <h1 style="display: none">cisco课程代码记录</h1>
            
            <div class="markdown-body">
              <p><strong>不记肯定会忘记QAQ,只敲简写然后敲tab也是可以的</strong></p>
<figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs routeros">enable<br>configure terminal<br>hostname R1<br></code></pre></td></tr></table></figure>



<h2 id="加密"><a href="#加密" class="headerlink" title="加密"></a>加密</h2><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs awk">enable password xxx <span class="hljs-comment"># 设置用户执行密码</span><br>enable secret class <span class="hljs-comment"># 设置特权执行密码</span><br>line console <span class="hljs-number">0</span> <span class="hljs-comment">#线路密码</span><br>(config-line)password cisco<br>(config-line)login<br>(config-line)<span class="hljs-keyword">exit</span><br>line vty <span class="hljs-number">0</span> <span class="hljs-number">4</span> <span class="hljs-comment">#加密密码设置</span><br>(config-line)password class<br>(config-line)login<br>(config-line)<span class="hljs-keyword">exit</span><br>service password-encrytion <span class="hljs-comment">#加密纯文本密码</span><br></code></pre></td></tr></table></figure>



<h2 id="标语"><a href="#标语" class="headerlink" title="标语"></a>标语</h2><figure class="highlight gams"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs gams">banner motd <span class="hljs-symbol">$</span> (<span class="hljs-symbol">$</span>是截止符号)<br>banner motd <span class="hljs-symbol">$</span> Authorized Access Only! <span class="hljs-symbol">$</span><br></code></pre></td></tr></table></figure>



<h2 id="保存配置"><a href="#保存配置" class="headerlink" title="保存配置"></a>保存配置</h2><figure class="highlight arduino"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs arduino">copy running-config startup-config<br></code></pre></td></tr></table></figure>



<h2 id="端口设置"><a href="#端口设置" class="headerlink" title="端口设置"></a>端口设置</h2><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs awk">interface f <span class="hljs-number">0</span>/<span class="hljs-number">0</span><br>(config-<span class="hljs-keyword">if</span>)description Link to Lan <span class="hljs-number">1</span><br>(config-<span class="hljs-keyword">if</span>)ip address <span class="hljs-number">192.168</span>.<span class="hljs-number">10.1</span> <span class="hljs-number">255.255</span>.<span class="hljs-number">255.0</span> <br>(config-<span class="hljs-keyword">if</span>)ipv6 address <span class="hljs-number">2001</span>:db8:acad:<span class="hljs-number">1</span>::<span class="hljs-number">1</span>/<span class="hljs-number">64</span> <span class="hljs-comment">#IPV6</span><br>(config-<span class="hljs-keyword">if</span>)no shutdown<br>(config-<span class="hljs-keyword">if</span>)<span class="hljs-keyword">exit</span><br><br><span class="hljs-comment">#Serial口 作为DCE 要附加上</span><br>(config-<span class="hljs-keyword">if</span>)clock rate <span class="hljs-number">128000</span><br><br><span class="hljs-comment">#Loopback环回接口</span><br>interface loopback <span class="hljs-number">0</span><br>(config-<span class="hljs-keyword">if</span>)ip address <span class="hljs-number">10.0</span>.<span class="hljs-number">0.1</span> <span class="hljs-number">255.255</span>.<span class="hljs-number">255.0</span><br>(config-<span class="hljs-keyword">if</span>)<span class="hljs-keyword">exit</span><br></code></pre></td></tr></table></figure>



<h2 id="show"><a href="#show" class="headerlink" title="show"></a>show</h2><figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs angelscript">show ip <span class="hljs-keyword">interface</span> <span class="hljs-symbol">brief</span><br><span class="hljs-symbol">show</span> <span class="hljs-symbol">ip</span> <span class="hljs-symbol">ipv6</span> <span class="hljs-symbol">brief</span><br><span class="hljs-symbol">show</span> <span class="hljs-symbol">ip</span> <span class="hljs-symbol">route</span><br><br></code></pre></td></tr></table></figure>



<h2 id="历史记录"><a href="#历史记录" class="headerlink" title="历史记录"></a>历史记录</h2><figure class="highlight maxima"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs maxima"><span class="hljs-built_in">terminal</span> histroy size <span class="hljs-number">200</span><br><span class="hljs-built_in">show</span> history<br></code></pre></td></tr></table></figure>

<blockquote>
<p>IPv6 地址解析不使用 ARP 进程，而是使用 ICMPv6 邻居请求和邻居通告消息。IPv6 到 MAC 地址的映射保存在一个类似于 ARP 缓存的表中，称为邻居缓存。</p>
<p>代码字母 D 用于标识通过 EIGRP 获知的路由。</p>
<p>“最后选用网关”是另一台路由器的ip地址</p>
<p>默认静态路由用作最后选用网关</p>
<p><strong>S 10.2.0.0 [1/0] via 172.16.2.2</strong> 中，方括号内的数字分别表示管理距离和度量。</p>
<p>ROM 包含在硬件模块上执行的诊断操作</p>
<p>默认静态路由的 IPv6 地址和前缀为 ::/0。这表示地址中的所有零和前缀长度零</p>
</blockquote>
<h2 id="使用rip"><a href="#使用rip" class="headerlink" title="使用rip"></a>使用rip</h2><figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs nginx"><span class="hljs-attribute">router</span> rip<br>network 网段<br></code></pre></td></tr></table></figure>

<h2 id="access-list"><a href="#access-list" class="headerlink" title="access-list"></a>access-list</h2><p>禁止访问</p>
<figure class="highlight arduino"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs arduino">(config)<span class="hljs-meta">#access-list 1 deny host 24.17.2.18</span><br>(config)<span class="hljs-meta">#interface f0/0</span><br>(config-<span class="hljs-keyword">if</span>)<span class="hljs-meta">#ip access-group 1 in</span><br></code></pre></td></tr></table></figure>

<figure class="highlight arduino"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs arduino">(config)<span class="hljs-meta">#access-list 1 permit any</span><br></code></pre></td></tr></table></figure>

<p>permit anything from the subnet 24.17.2.0. Access-list 102 permit IP 24.17.2.0 0.0.0.15 any log</p>
<figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs stylus"><span class="hljs-function"><span class="hljs-title">Router1</span><span class="hljs-params">(config)</span></span><span class="hljs-number">#acc</span>ess-list <span class="hljs-number">102</span> permit ip <span class="hljs-number">24.17</span>.<span class="hljs-number">2.0</span> <span class="hljs-number">0.0</span>.<span class="hljs-number">0.15</span> any log<br></code></pre></td></tr></table></figure>

<p>allow telnet from 24.17.2.16</p>
<figure class="highlight arduino"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs arduino">(config)<span class="hljs-meta">#access-list 101 permit tcp 24.17.2.16 0.0.0.15 any eq telnet</span><br></code></pre></td></tr></table></figure>



<h2 id="1-1-3-5-Configuring-IPv4-and-IPv6-Interfaces"><a href="#1-1-3-5-Configuring-IPv4-and-IPv6-Interfaces" class="headerlink" title="1.1.3.5  Configuring IPv4 and IPv6 Interfaces"></a>1.1.3.5  Configuring IPv4 and IPv6 Interfaces</h2><p>R1</p>
<figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs awk">cisco<br>enable<br>class<br>config t<br>interf g0/<span class="hljs-number">0</span><br>ip add <span class="hljs-number">172.16</span>.<span class="hljs-number">20.1</span> <span class="hljs-number">255.255</span>.<span class="hljs-number">255.128</span><br>no shutdown<br><span class="hljs-keyword">exit</span><br>interf g0/<span class="hljs-number">1</span><br>ip add <span class="hljs-number">172.16</span>.<span class="hljs-number">20.129</span> <span class="hljs-number">255.255</span>.<span class="hljs-number">128</span><br>no shutdown <br><span class="hljs-keyword">exit</span><br><br></code></pre></td></tr></table></figure>

<p>R2</p>
<figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs apache"><span class="hljs-attribute">cisco</span><br><span class="hljs-attribute">enable</span><br><span class="hljs-attribute">class</span><br><span class="hljs-attribute">config</span> t<br><span class="hljs-attribute">interf</span> g<span class="hljs-number">0</span>/<span class="hljs-number">0</span><br><span class="hljs-attribute">ipv6</span> add <span class="hljs-number">2001</span>:DB<span class="hljs-number">8</span>:C<span class="hljs-number">0</span>DE:<span class="hljs-number">12</span>::<span class="hljs-number">1</span>/<span class="hljs-number">64</span><br><span class="hljs-attribute">ipv6</span> address FE<span class="hljs-number">80</span>::<span class="hljs-number">2</span> link-local<br><span class="hljs-attribute">no</span> shutdown<br><span class="hljs-attribute">interf</span> g<span class="hljs-number">0</span>/<span class="hljs-number">1</span><br><span class="hljs-attribute">ipv6</span> add <span class="hljs-number">2001</span>:DB<span class="hljs-number">8</span>:C<span class="hljs-number">0</span>DE:<span class="hljs-number">13</span>::<span class="hljs-number">1</span>/<span class="hljs-number">64</span><br><span class="hljs-attribute">ipv6</span> address FE<span class="hljs-number">80</span>::<span class="hljs-number">2</span> link-local<br><span class="hljs-attribute">no</span> shutdown<br><span class="hljs-attribute">ex</span><br></code></pre></td></tr></table></figure>



<p>测试</p>
<figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs apache"><span class="hljs-attribute">ping</span> <span class="hljs-number">172.16.20.1</span><br><span class="hljs-attribute">ping</span> <span class="hljs-number">172.16.20.129</span><br><span class="hljs-attribute">ping</span> <span class="hljs-number">64.100.1.10</span><br><span class="hljs-attribute">ping</span> <span class="hljs-number">2001</span>:DB<span class="hljs-number">8</span>:C<span class="hljs-number">0</span>DE:<span class="hljs-number">12</span>::<span class="hljs-number">1</span><br><span class="hljs-attribute">ping</span> <span class="hljs-number">2001</span>:DB<span class="hljs-number">8</span>:C<span class="hljs-number">0</span>DE:<span class="hljs-number">13</span>::<span class="hljs-number">1</span><br><span class="hljs-attribute">ping</span> <span class="hljs-number">2001</span>:DB<span class="hljs-number">8</span>:<span class="hljs-number">100</span>:<span class="hljs-number">1</span>::A<br></code></pre></td></tr></table></figure>



<h2 id="1-1-4-5-Configuring-and-Verifying-a-Small-Network"><a href="#1-1-4-5-Configuring-and-Verifying-a-Small-Network" class="headerlink" title="1.1.4.5 Configuring and Verifying a Small Network"></a>1.1.4.5 Configuring and Verifying a Small Network</h2><p>RTA</p>
<figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><code class="hljs awk">enable secret class<br>line console <span class="hljs-number">0</span><br>password cisco<br>login<br><span class="hljs-keyword">exit</span><br>line vty <span class="hljs-number">0</span><br>password class<br>login<br><span class="hljs-keyword">exit</span><br>service password-encrytion<br><br>interf g0/<span class="hljs-number">0</span> <br>ip add <span class="hljs-number">10.10</span>.<span class="hljs-number">10.1</span> <span class="hljs-number">255.255</span>.<span class="hljs-number">255.0</span><br>des pc1<br>no shutdown<br>ex<br>interf g0/<span class="hljs-number">1</span><br>ip add <span class="hljs-number">10.10</span>.<span class="hljs-number">20.1</span> <span class="hljs-number">255.255</span>.<span class="hljs-number">255.0</span><br>dec pc2<br>no shutdown<br>ex<br><br>copy running-config startup-config<br></code></pre></td></tr></table></figure>

<p>SW1</p>
<figure class="highlight arduino"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs arduino"><span class="hljs-keyword">int</span> vlan1<br>ip add <span class="hljs-number">10.10</span><span class="hljs-number">.10</span><span class="hljs-number">.2</span> <span class="hljs-number">255.255</span><span class="hljs-number">.255</span><span class="hljs-number">.0</span><br>no shutdown<br>ex<br>ip <span class="hljs-keyword">default</span>-gateway <span class="hljs-number">10.10</span><span class="hljs-number">.10</span><span class="hljs-number">.1</span><br>copy running-config startup-config<br></code></pre></td></tr></table></figure>

<p>SW2</p>
<figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs nginx"><span class="hljs-attribute">int</span> vlan1<br>ip add <span class="hljs-number">10.10.20.2</span> <span class="hljs-number">255.255.255.0</span><br><span class="hljs-literal">no</span> shutdown<br>ex<br>ip default-gateway <span class="hljs-number">10.10.20.1</span><br></code></pre></td></tr></table></figure>

<img src="/2020/03/31/cisco%E8%AF%BE%E7%A8%8B%E4%BB%A3%E7%A0%81%E8%AE%B0%E5%BD%95/image-20200225132814418.png" srcset="/img/loading.gif" lazyload class="" title="image-20200225132814418">

<h2 id="1-3-2-5-Investigating-Directly-Connected-Routes"><a href="#1-3-2-5-Investigating-Directly-Connected-Routes" class="headerlink" title="1.3.2.5 Investigating Directly Connected Routes"></a>1.3.2.5 Investigating Directly Connected Routes</h2><img src="/2020/03/31/cisco%E8%AF%BE%E7%A8%8B%E4%BB%A3%E7%A0%81%E8%AE%B0%E5%BD%95/image-20200227092952674.png" srcset="/img/loading.gif" lazyload class="" title="image-20200227092952674">

<p>PC1可ping通PC2和PC3</p>
<img src="/2020/03/31/cisco%E8%AF%BE%E7%A8%8B%E4%BB%A3%E7%A0%81%E8%AE%B0%E5%BD%95/image-20200227093406101.png" srcset="/img/loading.gif" lazyload class="" title="image-20200227093406101">

<p>PC3可ping通PC4</p>
<img src="/2020/03/31/cisco%E8%AF%BE%E7%A8%8B%E4%BB%A3%E7%A0%81%E8%AE%B0%E5%BD%95/image-20200227093322437.png" srcset="/img/loading.gif" lazyload class="" title="image-20200227093322437">

<p>show ip route static 查看静态路由转发</p>
<p>v4可通，v6不通</p>
<img src="/2020/03/31/cisco%E8%AF%BE%E7%A8%8B%E4%BB%A3%E7%A0%81%E8%AE%B0%E5%BD%95/image-20200227100354728.png" srcset="/img/loading.gif" lazyload class="" title="image-20200227100354728">

<p>手动控制出口端口后又可通，并且查看路由表之后，发现没有FE的，都是2001的，说明是路由设置的问题</p>
<hr>
<h2 id="lab1-amp-2-27笔记"><a href="#lab1-amp-2-27笔记" class="headerlink" title="lab1&amp;2.27笔记"></a>lab1&amp;2.27笔记</h2><img src="/2020/03/31/cisco%E8%AF%BE%E7%A8%8B%E4%BB%A3%E7%A0%81%E8%AE%B0%E5%BD%95/image-20200227082933206.png" srcset="/img/loading.gif" lazyload class="" title="image-20200227082933206">

<p>点这里关机，然后拖入模块</p>
<img src="/2020/03/31/cisco%E8%AF%BE%E7%A8%8B%E4%BB%A3%E7%A0%81%E8%AE%B0%E5%BD%95/IAEW4JL%60HJEWNF6@I%5BUD1T2.png" srcset="/img/loading.gif" lazyload class="" title="img">

<p>这个模块是有serial口的</p>
<img src="/2020/03/31/cisco%E8%AF%BE%E7%A8%8B%E4%BB%A3%E7%A0%81%E8%AE%B0%E5%BD%95/image-20200227083957606.png" srcset="/img/loading.gif" lazyload class="" title="image-20200227083957606">

<figure class="highlight excel"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs excel">config <span class="hljs-built_in">t</span><br>no ip domain-<span class="hljs-built_in">lookup</span><br></code></pre></td></tr></table></figure>



<blockquote>
<p>router&gt; 是处于用户模式</p>
<p>router# 是处于特权模式 在用户界面使用enable启用</p>
<p>show hosts 显示分配了主机名的ip地址</p>
<p>设置远程登录</p>
<p>(config)line vty 0 4#虚拟终端</p>
<p>(config-line)password 123</p>
<p>(config-line)login #允许远程登录</p>
<img src="/2020/03/31/cisco%E8%AF%BE%E7%A8%8B%E4%BB%A3%E7%A0%81%E8%AE%B0%E5%BD%95/image-20200227085924224.png" srcset="/img/loading.gif" lazyload class="" title="image-20200227085924224">

<p>enable secret 权限更高，可覆盖enable password</p>
</blockquote>
<h2 id="lab2"><a href="#lab2" class="headerlink" title="lab2"></a>lab2</h2><figure class="highlight armasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs armasm"><span class="hljs-symbol">int</span> <span class="hljs-built_in">s0</span>/<span class="hljs-number">1</span><br><span class="hljs-symbol">enable</span> <span class="hljs-keyword">cdp</span> <br><span class="hljs-symbol">no</span> shut<br><span class="hljs-symbol">ex</span><br><span class="hljs-keyword">cdp</span> run<br></code></pre></td></tr></table></figure>

<blockquote>
<p>端口下 cdp enable</p>
</blockquote>
<h2 id="3-3笔记"><a href="#3-3笔记" class="headerlink" title="3/3笔记"></a>3/3笔记</h2><img src="/2020/03/31/cisco%E8%AF%BE%E7%A8%8B%E4%BB%A3%E7%A0%81%E8%AE%B0%E5%BD%95/image-20200303101529289.png" srcset="/img/loading.gif" lazyload class="" title="image-20200303101529289">

<p>浮动静态路由器：</p>
<ul>
<li>备份动态路由协议已发现的路由</li>
<li>相比原动态路由协议，配置的管理距离更长</li>
</ul>
<h3 id="静态路由"><a href="#静态路由" class="headerlink" title="静态路由"></a>静态路由</h3><p>ip route 网段 掩码 下一跳端口ip</p>
<p>ip route 172.16.1.0 255.255.255.0 172.16.2.2</p>
<p>ipv6 route 2001:DB8:ACAD:3::/64 2001:DB8:ACAD:4::2</p>
<h3 id="完全指定静态路由"><a href="#完全指定静态路由" class="headerlink" title="完全指定静态路由"></a>完全指定静态路由</h3><p>ip route 网段 掩码 端口</p>
<p>R1(config)# ip route 192.168.2.0 255.255.255.0 GigabitEthernet 0/1</p>
<p><strong>如果 IPv6 静态路由使用 IPv6 本地链路地址作为下一跳地址，则必须使用完全指定静态路由（包含送出接口）</strong></p>
<img src="/2020/03/31/cisco%E8%AF%BE%E7%A8%8B%E4%BB%A3%E7%A0%81%E8%AE%B0%E5%BD%95/image-20200421091844171.png" srcset="/img/loading.gif" lazyload class="" title="image-20200421091844171">

<h3 id="默认静态路由"><a href="#默认静态路由" class="headerlink" title="默认静态路由"></a>默认静态路由</h3><p>ip route 0.0.0.0 0.0.0.0 172.168.2.2</p>
<p>ipv6 route ::/0 2001:DB8:ACAD:4::2</p>
<h3 id="浮动静态路由"><a href="#浮动静态路由" class="headerlink" title="!!! 浮动静态路由"></a>!!! 浮动静态路由</h3><p>ip route 0.0.0.0 0.0.0.0 172.16.2.2 # 默认静态路由</p>
<p>ipv6 route ::/0 ipv6_add </p>
<p>ip route 0.0.0.0 0.0.0.0 10.10.10.2 5 # 管理距离为5</p>
<p>ipv6 route ::/0 ipv6_add  5</p>
<img src="/2020/03/31/cisco%E8%AF%BE%E7%A8%8B%E4%BB%A3%E7%A0%81%E8%AE%B0%E5%BD%95/image-20200303110803109.png" srcset="/img/loading.gif" lazyload class="" title="image-20200303110803109">

<h2 id="2-2-4-4-Configuring-IPv6-Static-and-Default-Routes"><a href="#2-2-4-4-Configuring-IPv6-Static-and-Default-Routes" class="headerlink" title="2.2.4.4 Configuring IPv6 Static and Default Routes"></a>2.2.4.4 Configuring IPv6 Static and Default Routes</h2><p>R1</p>
<figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs apache"><span class="hljs-attribute">ipv6</span> unicast-routing<br><span class="hljs-attribute">ipv6</span> route <span class="hljs-number">2001</span>:DB<span class="hljs-number">8</span>:<span class="hljs-number">1</span>:<span class="hljs-number">2</span>::/<span class="hljs-number">64</span> <span class="hljs-number">2001</span>:DB<span class="hljs-number">8</span>:<span class="hljs-number">1</span>:A<span class="hljs-number">001</span>::<span class="hljs-number">2</span> # 递归静态路由<br><span class="hljs-attribute">ipv6</span> route <span class="hljs-number">2001</span>:DB<span class="hljs-number">8</span>:<span class="hljs-number">1</span>:<span class="hljs-number">3</span>::/<span class="hljs-number">64</span> <span class="hljs-number">2001</span>:DB<span class="hljs-number">8</span>:<span class="hljs-number">1</span>:A<span class="hljs-number">001</span>::<span class="hljs-number">2</span><br><span class="hljs-attribute">ipv6</span> route <span class="hljs-number">2001</span>:DB<span class="hljs-number">8</span>:<span class="hljs-number">1</span>:A<span class="hljs-number">002</span>::/<span class="hljs-number">64</span> <span class="hljs-number">2001</span>:DB<span class="hljs-number">8</span>:<span class="hljs-number">1</span>:A<span class="hljs-number">001</span>::<span class="hljs-number">2</span><br></code></pre></td></tr></table></figure>

<p>R2</p>
<figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs apache"><span class="hljs-attribute">ipv6</span> unicast-routing<br><span class="hljs-attribute">ipv6</span> route <span class="hljs-number">2001</span>:DB<span class="hljs-number">8</span>:<span class="hljs-number">1</span>:<span class="hljs-number">1</span>::/<span class="hljs-number">64</span> <span class="hljs-number">2001</span>:DB<span class="hljs-number">8</span>:<span class="hljs-number">1</span>:A<span class="hljs-number">001</span>::<span class="hljs-number">1</span><br><span class="hljs-attribute">ipv6</span> route <span class="hljs-number">2001</span>:DB<span class="hljs-number">8</span>:<span class="hljs-number">1</span>:<span class="hljs-number">3</span>::/<span class="hljs-number">64</span> <span class="hljs-number">2001</span>:DB<span class="hljs-number">8</span>:<span class="hljs-number">1</span>:A<span class="hljs-number">002</span>::<span class="hljs-number">2</span><br></code></pre></td></tr></table></figure>

<p>R3</p>
<figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs apache"><span class="hljs-attribute">ipv6</span> unicast-routing<br><span class="hljs-attribute">IPV6</span> ROUTE ::/<span class="hljs-number">0</span> <span class="hljs-number">2001</span>:DB<span class="hljs-number">8</span>:<span class="hljs-number">1</span>:A<span class="hljs-number">002</span>::<span class="hljs-number">1</span> # 默认路由<br></code></pre></td></tr></table></figure>

<h2 id="2-2-5-5-Configuring-Floating-Static-Routes"><a href="#2-2-5-5-Configuring-Floating-Static-Routes" class="headerlink" title="2.2.5.5 Configuring Floating Static Routes"></a>2.2.5.5 Configuring Floating Static Routes</h2><p>Edge</p>
<figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs apache"><span class="hljs-attribute">ip</span> route <span class="hljs-number">0.0.0.0</span> <span class="hljs-number">0.0.0.0</span> s<span class="hljs-number">0</span>/<span class="hljs-number">0</span>/<span class="hljs-number">0</span><br><span class="hljs-attribute">ip</span> route <span class="hljs-number">0.0.0.0</span> <span class="hljs-number">0.0.0.0</span> s<span class="hljs-number">0</span>/<span class="hljs-number">0</span>/<span class="hljs-number">1</span> <span class="hljs-number">5</span><br><span class="hljs-attribute">ipv6</span> route ::/<span class="hljs-number">0</span> s<span class="hljs-number">0</span>/<span class="hljs-number">0</span>/<span class="hljs-number">0</span><br><span class="hljs-attribute">ipv6</span> route ::/<span class="hljs-number">0</span> <span class="hljs-number">2001</span>:DB<span class="hljs-number">8</span>:A:<span class="hljs-number">2</span>::<span class="hljs-number">1</span> <span class="hljs-number">5</span><br></code></pre></td></tr></table></figure>

<h2 id="2-3-2-3"><a href="#2-3-2-3" class="headerlink" title="2.3.2.3"></a>2.3.2.3</h2><p>R2</p>
<figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs nginx"><span class="hljs-attribute">ip</span> route <span class="hljs-number">172.31.1.128</span> <span class="hljs-number">255.255.255.192</span> <span class="hljs-number">172.31.1.198</span><br><span class="hljs-literal">no</span> ip route <span class="hljs-number">172.31.1.128</span> <span class="hljs-number">255.255.255.192</span> <span class="hljs-number">172.31.1.194</span><br>ip route <span class="hljs-number">172.31.1.0</span> <span class="hljs-number">255.255.255.128</span> <span class="hljs-number">172.31.1.194</span><br><span class="hljs-literal">no</span> ip route <span class="hljs-number">172.31.1.0</span> <span class="hljs-number">255.255.255.128</span> <span class="hljs-number">172.31.1.198</span><br></code></pre></td></tr></table></figure>

<p>R3</p>
<figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs nginx"><span class="hljs-attribute">ip</span> route <span class="hljs-number">172.31.1.0</span> <span class="hljs-number">255.255.255.128</span> <span class="hljs-number">172.31.1.197</span><br></code></pre></td></tr></table></figure>



<h2 id="lab-3-amp-3-10"><a href="#lab-3-amp-3-10" class="headerlink" title="lab 3&amp;3/10"></a>lab 3&amp;3/10</h2><blockquote>
<p><strong>The Enable Password</strong></p>
<p>The <em>enable password</em> controls access to privilege mode. This is a VERY important password because in privilege mode you can make configuration changes.</p>
<p>Krang(config)#enable password frodo</p>
<p>You can securely encrypt the <em>enable password</em>, by using the enable secret command.</p>
<p>Krang(config)#enable secret hobbits</p>
<p>If you have both passwords, the enable secret is the password used.</p>
</blockquote>
<p>enable secret password 储存加密的密码，会覆盖enable password frodo</p>
<hr>
<p>在端口上启用cdp run，本机路由器show cdp nei 看不见</p>
<p>而在别的路由上可以看见</p>
<img src="/2020/03/31/cisco%E8%AF%BE%E7%A8%8B%E4%BB%A3%E7%A0%81%E8%AE%B0%E5%BD%95/image-20200310104354035.png" srcset="/img/loading.gif" lazyload class="" title="image-20200310104354035">

<p>如右边路由f0/0 只在端口上cdp run。左边端口和路由都cdp run了。左边show cdp nei能看见右边的端口，右边show cdp nei 看不见任何记录</p>
<h2 id="Lab4"><a href="#Lab4" class="headerlink" title="Lab4"></a>Lab4</h2><figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs angelscript">(config-<span class="hljs-keyword">if</span>)description FastEthernet <span class="hljs-keyword">interface</span> <span class="hljs-symbol">on</span> <span class="hljs-symbol">Router</span> <span class="hljs-symbol">1</span><br></code></pre></td></tr></table></figure>



<h2 id="Lab5"><a href="#Lab5" class="headerlink" title="Lab5"></a>Lab5</h2><figure class="highlight arduino"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs arduino">clear arp<br></code></pre></td></tr></table></figure>



<h2 id="Lab-6"><a href="#Lab-6" class="headerlink" title="Lab 6"></a>Lab 6</h2><figure class="highlight mipsasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs mipsasm">(<span class="hljs-built_in">config</span>)<span class="hljs-comment">#ip host California 195.42.36.10</span><br><span class="hljs-keyword">show </span>hosts<br></code></pre></td></tr></table></figure>



<h2 id="Lab-7"><a href="#Lab-7" class="headerlink" title="Lab 7"></a>Lab 7</h2><ul>
<li>Add RIP routing protocol to the router. What command does this?</li>
</ul>
<figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs stylus"><span class="hljs-function"><span class="hljs-title">Router2</span><span class="hljs-params">(config)</span></span><span class="hljs-selector-id">#router</span> rip<br><br><span class="hljs-function"><span class="hljs-title">Router2</span><span class="hljs-params">(config-router)</span></span>#<br></code></pre></td></tr></table></figure>

<ul>
<li>Add the network(s) that Router 2 is directly connected to. What statements will do this?</li>
</ul>
<p><code>Router2(config-router)#network 10.0.0.0</code></p>
<blockquote>
<p>查看更新信息使用 debug ip rip 命令时，要用 terminal monitor 命令来接收debug 命令产生的输出。debug ip rip 会把更新信息发送给控制台会话。</p>
<p>Router#debug ip rip</p>
<p>RIP protocol debugging is on</p>
<p>Router#terminal monitor</p>
<p>接下来就是输出的更新信息，但是它会不断的出来，所以要停止它就得输入 un all 或 undebug all 或 no debug ip rip 即可停止信息的输出</p>
<p>Router#un all</p>
<p><a target="_blank" rel="noopener" href="http://blog.sina.com.cn/s/blog_62fd2bcb0102voc0.html">原文</a></p>
</blockquote>
<h2 id="3-17-amp-Lab-9"><a href="#3-17-amp-Lab-9" class="headerlink" title="3.17&amp;Lab 9"></a>3.17&amp;Lab 9</h2><img src="/2020/03/31/cisco%E8%AF%BE%E7%A8%8B%E4%BB%A3%E7%A0%81%E8%AE%B0%E5%BD%95/image-20200317102740553.png" srcset="/img/loading.gif" lazyload class="" title="image-20200317102740553">

<p>路由器连接到server，并且server开启tftp时候</p>
<figure class="highlight mipsasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs mipsasm">Tampa<span class="hljs-comment"># copy running-config tftp</span><br><span class="hljs-keyword">Address </span><span class="hljs-keyword">or </span>name of remote host []?<span class="hljs-number">192</span>.<span class="hljs-number">168</span>.<span class="hljs-number">1</span>.<span class="hljs-number">2</span><br>储存的文件名：Tampa_config<br></code></pre></td></tr></table></figure>

<h2 id="Lab10待补-不熟！！！"><a href="#Lab10待补-不熟！！！" class="headerlink" title="Lab10待补-不熟！！！"></a>Lab10待补-不熟！！！</h2><h2 id="lab13"><a href="#lab13" class="headerlink" title="lab13"></a>lab13</h2><p>*<em>交换机之间的线用copper cross-over *</em></p>
<figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><code class="hljs apache"><span class="hljs-attribute">sw1</span>:<br><span class="hljs-attribute">int</span> f<span class="hljs-number">0</span>/<span class="hljs-number">3</span><br><span class="hljs-attribute">switchport</span> mode access<br><span class="hljs-attribute">switchport</span> access vlan <span class="hljs-number">2</span><br><span class="hljs-attribute">int</span> f<span class="hljs-number">0</span>/<span class="hljs-number">4</span><br><span class="hljs-attribute">switchport</span> mode access<br><span class="hljs-attribute">switchport</span> access vlan <span class="hljs-number">3</span><br><span class="hljs-attribute">int</span> f<span class="hljs-number">0</span>/<span class="hljs-number">2</span><br><span class="hljs-attribute">switchport</span> mode trunk<br><span class="hljs-attribute">int</span> f<span class="hljs-number">0</span>/<span class="hljs-number">1</span><br><span class="hljs-attribute">switchport</span> mode trunk<br><br><span class="hljs-attribute">sw2</span>:<br><span class="hljs-attribute">int</span> f<span class="hljs-number">0</span>/<span class="hljs-number">2</span><br><span class="hljs-attribute">switchport</span> mode access<br><span class="hljs-attribute">switchport</span> access vlan <span class="hljs-number">2</span><br><span class="hljs-attribute">int</span> f<span class="hljs-number">0</span>/<span class="hljs-number">3</span><br><span class="hljs-attribute">switchport</span> mode access<br><span class="hljs-attribute">switchport</span> access vlan <span class="hljs-number">3</span><br><span class="hljs-attribute">int</span> f<span class="hljs-number">0</span>/<span class="hljs-number">1</span><br><span class="hljs-attribute">switchport</span> mode trunk<br><br><span class="hljs-attribute">router</span>:<br><span class="hljs-attribute">int</span> f<span class="hljs-number">0</span>/<span class="hljs-number">0</span>.<span class="hljs-number">1</span><br><span class="hljs-attribute">encapsulation</span> dot<span class="hljs-number">1</span>Q <span class="hljs-number">2</span><br><span class="hljs-attribute">ip</span> add <span class="hljs-number">192.168.1.254</span> <span class="hljs-number">255.255.255.0</span><br><span class="hljs-attribute">no</span> shut<br><span class="hljs-attribute">int</span> f<span class="hljs-number">0</span>/<span class="hljs-number">0</span>.<span class="hljs-number">2</span><br><span class="hljs-attribute">encapsulation</span> dot<span class="hljs-number">1</span>Q <span class="hljs-number">3</span><br><span class="hljs-attribute">ip</span> add <span class="hljs-number">192.168.2.254</span> <span class="hljs-number">255.255.255.0</span><br><span class="hljs-attribute">no</span> shut<br><span class="hljs-attribute">int</span> f<span class="hljs-number">0</span>/<span class="hljs-number">0</span><br><span class="hljs-attribute">no</span> shut<br></code></pre></td></tr></table></figure>

<p><strong>VTP</strong></p>
<p> VLAN 中继协议 (VTP) 的信息。VTP 可简化交换网络中的管理。在一台 VTP 服务器上配置新的 VLAN 时，该 VLAN 将通过域中的所有交换机进行分发。这样可以减少在各处配置相同 VLAN 的需求。VTP 是一种 Cisco 专有协议</p>
<p><a target="_blank" rel="noopener" href="https://www.cisco.com/c/en/us/support/docs/lan-switching/vtp/10558-21.html">官方解释</a></p>
<img src="/2020/03/31/cisco%E8%AF%BE%E7%A8%8B%E4%BB%A3%E7%A0%81%E8%AE%B0%E5%BD%95/image-20200319213900208.png" srcset="/img/loading.gif" lazyload class="" title="image-20200319213900208">

<p><strong>3</strong>. 在switch1合适的配置模式下设置如下命令。</p>
<figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs routeros">vtp mode server<br>vtp domain cisco<br>vlan 10<br>vlan 100<br></code></pre></td></tr></table></figure>



<p> 在switch2合适的配置模式下设置如下命令。</p>
<figure class="highlight axapta"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs axapta">vtp <span class="hljs-keyword">client</span><br>vtp domain cisco<br></code></pre></td></tr></table></figure>

<h2 id="Lab-14"><a href="#Lab-14" class="headerlink" title="Lab 14"></a>Lab 14</h2><p>EIGRP</p>
<figure class="highlight reasonml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs reasonml"><span class="hljs-constructor">Router(<span class="hljs-params">config</span>)</span>#router eigrp ?<br>  &lt;<span class="hljs-number">1</span>-<span class="hljs-number">65535</span>&gt;  Autonomous system number<br><span class="hljs-constructor">R2(<span class="hljs-params">config</span>-<span class="hljs-params">router</span>)</span>#network <span class="hljs-number">12.1</span>.<span class="hljs-number">1.0</span> <span class="hljs-number">0.0</span>.<span class="hljs-number">0.255</span><br><span class="hljs-constructor">R2(<span class="hljs-params">config</span>-<span class="hljs-params">router</span>)</span>#network <span class="hljs-number">2.2</span>.<span class="hljs-number">0.0</span> <span class="hljs-number">255.255</span>.<span class="hljs-number">0.0</span>　（正/反掩码皆可）<br></code></pre></td></tr></table></figure>

<p>RIP</p>
<figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs stylus"><span class="hljs-function"><span class="hljs-title">Router</span><span class="hljs-params">(config)</span></span><span class="hljs-selector-id">#router</span> rip<br>version <span class="hljs-number">2</span><br>network <span class="hljs-number">120.10</span>.<span class="hljs-number">10.0</span><br></code></pre></td></tr></table></figure>

<p>OSPF</p>
<figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs routeros">Router(config)#router<span class="hljs-built_in"> ospf </span>?<br>  &lt;1-65535&gt;  Process ID<br>network 120.10.10.0 0.0.0.252<span class="hljs-built_in"> area </span>?<br> <span class="hljs-built_in"> area </span> <span class="hljs-builtin-name">Set</span> the<span class="hljs-built_in"> OSPF area </span>ID<br></code></pre></td></tr></table></figure>

<h2 id="lab-15"><a href="#lab-15" class="headerlink" title="lab 15"></a>lab 15</h2><p>NAT,详见<a target="_blank" rel="noopener" href="https://blog.csdn.net/besti_white/article/details/81430894">link</a></p>
<p>端口多路复用</p>
<figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs apache"><span class="hljs-attribute">Access</span>-list <span class="hljs-number">12</span> permit <span class="hljs-number">192.168.101.0</span> <span class="hljs-number">0.0.0.255</span><br><span class="hljs-attribute">ip</span> nat inside source list <span class="hljs-number">12</span> interface serial <span class="hljs-number">1</span>/<span class="hljs-number">0</span> overload<br></code></pre></td></tr></table></figure>

<p>NAT pool</p>
<figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs nginx"><span class="hljs-attribute">interface</span> loopback <span class="hljs-number">0</span><br>ip address <span class="hljs-number">192.168.200.1</span> <span class="hljs-number">255.255.255.0</span><br>!<br>ip nat pool goodpool <span class="hljs-number">192.168.200.2</span> <span class="hljs-number">192.168.200.101</span> netmask <span class="hljs-number">255.255.255.0</span><br>access-list <span class="hljs-number">10</span> permit <span class="hljs-number">192.168.101.0</span> <span class="hljs-number">0.0.0.255</span><br>ip nat inside source list <span class="hljs-number">10</span> pool goodpool<br><br></code></pre></td></tr></table></figure>

<h2 id="Lab-16"><a href="#Lab-16" class="headerlink" title="Lab 16"></a>Lab 16</h2><figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs angelscript"><span class="hljs-keyword">interface</span> <span class="hljs-symbol">fastethernet</span> <span class="hljs-symbol">0</span>/<span class="hljs-symbol">11</span><br><span class="hljs-symbol">switchport</span> <span class="hljs-symbol">mode</span> <span class="hljs-symbol">trunk</span><br><br><br><span class="hljs-symbol">interface</span> <span class="hljs-symbol">fastethernet</span> <span class="hljs-symbol">0</span>/<span class="hljs-symbol">11</span><br><span class="hljs-symbol">switchport</span> <span class="hljs-symbol">mode</span> <span class="hljs-symbol">dynamic</span> <span class="hljs-symbol">desirable</span><br></code></pre></td></tr></table></figure>



<h2 id="3-26"><a href="#3-26" class="headerlink" title="3/26"></a>3/26</h2><img src="/2020/03/31/cisco%E8%AF%BE%E7%A8%8B%E4%BB%A3%E7%A0%81%E8%AE%B0%E5%BD%95/image-20200326091535593.png" srcset="/img/loading.gif" lazyload class="" title="image-20200326091535593">

<h2 id="3-31"><a href="#3-31" class="headerlink" title="3/31"></a>3/31</h2><h3 id="RIPv2自动汇总"><a href="#RIPv2自动汇总" class="headerlink" title="RIPv2自动汇总"></a>RIPv2自动汇总</h3><p>使用 <strong>no auto-summary</strong> 路由器配置模式命令，修改默认 RIPv2 自动汇总行为。当使用 RIPv1 时，此命令无效。当已禁用自动汇总时，RIPv2 不会再将网络汇总到其在边界路由器上的有类地址。</p>
<h3 id="配置被动接口"><a href="#配置被动接口" class="headerlink" title="配置被动接口"></a>配置被动接口</h3><p>默认情况下，将 RIP 更新从所有启用 RIP 的接口发出。使用 <strong>passive-interface</strong> 路由器配置命令阻止通过路由器接口传输路由更新，但是仍然允许将该网络通告至其他路由器。该命令会停止指定接口的路由更新。但是，从其他接口发出的路由更新中仍通告指定接口所属的网络。可以使用 <strong>passive-interface default</strong> 命令将所有接口设为被动。不能设为被动的接口可以使用 <strong>no passive-interface</strong> 命令重新启用。</p>
<blockquote>
<p>router rip</p>
<p>passive-interface g0/0</p>
<p>end</p>
</blockquote>
<blockquote>
<p>传播默认路由</p>
<p>边缘路由器必须配置：</p>
<ul>
<li><p>使用 <strong>ip route 0.0.0.0 0.0.0.0</strong> next_ip 命令的默认静态路由。</p>
</li>
<li><p><strong>default-information originate</strong> 路由器配置命令。这会指导 R1 通过在 RIP 更新中传播静态默认路由来产生默认信息。</p>
</li>
</ul>
<p>在一个单出口网络内启用RIP协议，在网络出口处的路由器需要向RIP域内传播一条默认路由，这样，域内的路由器就可以通过默认路由访问外部网络。下面我们就用试验来模拟这个环境。到目前为止；通过RIP传递默认路由共有5种方法。<br>1 default-information<br>2 手工写一条默认路由（到NULL0） 然后重分布到RIP中<br>3 手工写一条默认路由（到NULL0）在进程中宣告<br>4 ip default-network<br>5在接口汇总0.0.0.0/0到NULL0的路由</p>
</blockquote>
<img src="/2020/03/31/cisco%E8%AF%BE%E7%A8%8B%E4%BB%A3%E7%A0%81%E8%AE%B0%E5%BD%95/image-20200331115232904.png" srcset="/img/loading.gif" lazyload class="" title="image-20200331115232904">

<h2 id="3-2-1-8-Troubleshooting-Static-Routes"><a href="#3-2-1-8-Troubleshooting-Static-Routes" class="headerlink" title="3.2.1.8 Troubleshooting Static Routes"></a>3.2.1.8 Troubleshooting Static Routes</h2><p>RIP配置的时候宣告自己所在的网段即可</p>
<figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><code class="hljs apache"><span class="hljs-attribute">R1</span><br><span class="hljs-attribute">ip</span> route <span class="hljs-number">0.0.0.0</span> <span class="hljs-number">0.0.0.0</span> s<span class="hljs-number">0</span>/<span class="hljs-number">0</span>/<span class="hljs-number">1</span><br><span class="hljs-attribute">router</span> rip<br><span class="hljs-attribute">version</span> <span class="hljs-number">2</span><br><span class="hljs-attribute">network</span> <span class="hljs-number">192.168.1.0</span><br><span class="hljs-attribute">network</span> <span class="hljs-number">192.168.2.0</span><br><span class="hljs-attribute">no</span> auto-summary<br><span class="hljs-attribute">passive</span>-interface s<span class="hljs-number">0</span>/<span class="hljs-number">0</span>/<span class="hljs-number">1</span><br><span class="hljs-attribute">default</span>-information originate # 通告配置的默认路由<br><br><span class="hljs-attribute">R2</span><br><span class="hljs-attribute">router</span> rip<br><span class="hljs-attribute">version</span> <span class="hljs-number">2</span><br><span class="hljs-attribute">network</span> <span class="hljs-number">192.168.2.0</span><br><span class="hljs-attribute">network</span> <span class="hljs-number">192.168.3.0</span><br><span class="hljs-attribute">network</span> <span class="hljs-number">192.168.4.0</span><br><span class="hljs-attribute">no</span> auto-summary<br><span class="hljs-attribute">passive</span>-interface g<span class="hljs-number">0</span>/<span class="hljs-number">0</span><br><br><span class="hljs-attribute">R3</span><br><span class="hljs-attribute">router</span> rip<br><span class="hljs-attribute">version</span> <span class="hljs-number">2</span><br><span class="hljs-attribute">network</span> <span class="hljs-number">192.168.4.0</span><br><span class="hljs-attribute">network</span> <span class="hljs-number">192.168.5.0</span><br><span class="hljs-attribute">no</span> auto-summary<br><span class="hljs-attribute">passive</span>-interface g<span class="hljs-number">0</span>/<span class="hljs-number">0</span><br></code></pre></td></tr></table></figure>

<h2 id="4-14-amp-5-2-1-4-Configuring-SSH"><a href="#4-14-amp-5-2-1-4-Configuring-SSH" class="headerlink" title="4/14&amp;5.2.1.4  Configuring SSH !!!!"></a>4/14&amp;5.2.1.4  Configuring SSH !!!!</h2><p>==生成树协议学习一下==</p>
<img src="/2020/03/31/cisco%E8%AF%BE%E7%A8%8B%E4%BB%A3%E7%A0%81%E8%AE%B0%E5%BD%95/image-20200414105142666.png" srcset="/img/loading.gif" lazyload class="" title="image-20200414105142666">

<img src="/2020/03/31/cisco%E8%AF%BE%E7%A8%8B%E4%BB%A3%E7%A0%81%E8%AE%B0%E5%BD%95/image-20200414105353212.png" srcset="/img/loading.gif" lazyload class="" title="image-20200414105353212">

<img src="/2020/03/31/cisco%E8%AF%BE%E7%A8%8B%E4%BB%A3%E7%A0%81%E8%AE%B0%E5%BD%95/image-20200414105430248.png" srcset="/img/loading.gif" lazyload class="" title="image-20200414105430248">

<img src="/2020/03/31/cisco%E8%AF%BE%E7%A8%8B%E4%BB%A3%E7%A0%81%E8%AE%B0%E5%BD%95/image-20200415115335471.png" srcset="/img/loading.gif" lazyload class="" title="image-20200415115335471">

<figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs awk">copy running-config start<br>service password-encryption<br><br>ip domain-name netacad.pka<br>crypto key generate rsa<br><span class="hljs-number">1024</span><br>username administrator secret cisco<br>line vty <span class="hljs-number">0</span> <span class="hljs-number">15</span><br>transport input ssh<br>login local <br>no password <span class="hljs-comment">#删除密码</span><br><span class="hljs-keyword">exit</span><br>ip ssh version <span class="hljs-number">2</span><br><span class="hljs-keyword">exit</span><br></code></pre></td></tr></table></figure>



<h2 id="5-2-2-7-Configuring-Switch-Port-Security"><a href="#5-2-2-7-Configuring-Switch-Port-Security" class="headerlink" title="5.2.2.7  Configuring Switch Port Security !!!!"></a>5.2.2.7  Configuring Switch Port Security !!!!</h2><p>端口安全违规的默认模式为关闭端口</p>
<figure class="highlight nim"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs nim"><span class="hljs-built_in">int</span> f0/<span class="hljs-number">0</span><br>switchport mode access <span class="hljs-comment"># 设为接入</span><br>switchport port-security <span class="hljs-comment"># 启用动态端口安全</span><br>switchport port-security maximum <span class="hljs-number">10</span> <span class="hljs-comment"># 设置端口允许安全地址的最大数量</span><br>switchport port-security mac-address sticky <span class="hljs-comment">#启用粘性获取，保护端口安全，以便动态获取设备的 MAC 地址并将其添加到运行配置</span><br>switchport port-security violation restrict <span class="hljs-comment">#保护接口，使其在出现违规时发出通知，但不禁用端口</span><br><span class="hljs-keyword">interface</span> <span class="hljs-built_in">range</span> fastEthernet0/<span class="hljs-number">3</span> - <span class="hljs-number">24</span> <span class="hljs-comment"># 从3到24端口全部关闭</span><br><br></code></pre></td></tr></table></figure>

<p>安全违规模式-Protect\Restrict\Shutdown</p>
<img src="/2020/03/31/cisco%E8%AF%BE%E7%A8%8B%E4%BB%A3%E7%A0%81%E8%AE%B0%E5%BD%95/image-20200415123202415.png" srcset="/img/loading.gif" lazyload class="" title="image-20200415123202415">

<h2 id="5-3-1-2-Skills-Integration-Challenge"><a href="#5-3-1-2-Skills-Integration-Challenge" class="headerlink" title="5.3.1.2 Skills Integration Challenge"></a>5.3.1.2 Skills Integration Challenge</h2><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><code class="hljs awk">host S1<br>line console <span class="hljs-number">0</span><br>password cisco<br>login <br><span class="hljs-keyword">exit</span><br>enable secrect class<br>service password-encryption<br><br>int vlan1<br>ip add <span class="hljs-number">10.10</span>.<span class="hljs-number">10.2</span> <span class="hljs-number">255.255</span>.<span class="hljs-number">255.0</span><br>no shut<br><br>ip domain-name cisco.com<br>crypto key generate rsa<br><span class="hljs-number">1024</span><br>username admin secret ccna<br>line vty <span class="hljs-number">0</span> <span class="hljs-number">15</span><br>transport input ssh<br>login local <br><span class="hljs-keyword">exit</span><br>ip ssh version <span class="hljs-number">2</span><br><span class="hljs-keyword">exit</span><br><br>int f0/<span class="hljs-number">1</span><br>switchport mode access <br>switchport port-security <br>switchport port-security maximum <span class="hljs-number">2</span><br>switchport port-security mac-address sticky <span class="hljs-comment">#启用粘性获取，保护端口安全，以便动态获取设备的 MAC 地址并将其添加到运行配置</span><br>switchport port-security violation shutdown <span class="hljs-comment">#保护接口，使其在出现违规时发出通知，禁用端口</span><br>int f0/<span class="hljs-number">2</span><br>switchport mode access <br>switchport port-security <br>switchport port-security maximum <span class="hljs-number">2</span><br>switchport port-security mac-address sticky <br>switchport port-security violation shutdown <br>interface range fastEthernet0/<span class="hljs-number">3</span> - <span class="hljs-number">24</span> <span class="hljs-comment"># 从3到24端口全部关闭</span><br>shutdown<br>interface range g0/<span class="hljs-number">1</span> - <span class="hljs-number">2</span> <span class="hljs-comment"># </span><br>shutdown<br></code></pre></td></tr></table></figure>

<h2 id="a5-1-2-12-Determining-the-DR-and-BDR"><a href="#a5-1-2-12-Determining-the-DR-and-BDR" class="headerlink" title="a5.1.2.12 Determining the DR and BDR"></a>a5.1.2.12 Determining the DR and BDR</h2><figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs angelscript">show ip ospf <span class="hljs-keyword">interface</span><br><br>#<span class="hljs-symbol">RA</span>:<br><span class="hljs-symbol">int</span> <span class="hljs-symbol">g0</span>/<span class="hljs-symbol">0</span><br><span class="hljs-symbol">ip</span> <span class="hljs-symbol">ospf</span> <span class="hljs-symbol">priority</span> <span class="hljs-symbol">200</span><br><br>#<span class="hljs-symbol">RB</span>:<br><span class="hljs-symbol">int</span> <span class="hljs-symbol">g0</span>/<span class="hljs-symbol">0</span><br><span class="hljs-symbol">ip</span> <span class="hljs-symbol">ospf</span> <span class="hljs-symbol">priority</span> <span class="hljs-symbol">100</span><br><br>#<span class="hljs-symbol">RC</span>:<br><span class="hljs-symbol">int</span> <span class="hljs-symbol">g0</span>/<span class="hljs-symbol">0</span><br><span class="hljs-symbol">ip</span> <span class="hljs-symbol">ospf</span> <span class="hljs-symbol">priority</span> <span class="hljs-symbol">1</span><br></code></pre></td></tr></table></figure>

<h2 id="a5-1-3-5-Propagating-a-Default-Route-in-OSPFv2"><a href="#a5-1-3-5-Propagating-a-Default-Route-in-OSPFv2" class="headerlink" title="a5.1.3.5 Propagating a Default Route in OSPFv2"></a>a5.1.3.5 Propagating a Default Route in OSPFv2</h2><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs apache"><span class="hljs-comment">#R2</span><br><span class="hljs-attribute">ip</span> route <span class="hljs-number">0.0.0.0</span> <span class="hljs-number">0.0.0.0</span> s<span class="hljs-number">0</span>/<span class="hljs-number">1</span>/<span class="hljs-number">0</span><br><span class="hljs-attribute">router</span> ospf <span class="hljs-number">1</span><br><br><span class="hljs-comment">#R1</span><br><span class="hljs-attribute">router</span> ospf <span class="hljs-number">1</span><br><br><span class="hljs-comment">#R3</span><br><span class="hljs-attribute">router</span> ospf <span class="hljs-number">1</span><br></code></pre></td></tr></table></figure>

<h2 id="a5-1-5-7-Configuring-OSPF-Advanced-Features"><a href="#a5-1-5-7-Configuring-OSPF-Advanced-Features" class="headerlink" title="a5.1.5.7 Configuring OSPF Advanced Features"></a>a5.1.5.7 Configuring OSPF Advanced Features</h2><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><code class="hljs apache"><span class="hljs-comment">#R1</span><br><span class="hljs-attribute">int</span> s<span class="hljs-number">0</span>/<span class="hljs-number">0</span>/<span class="hljs-number">0</span><br><span class="hljs-attribute">ip</span> ospf hello-interval <span class="hljs-number">15</span> #调整计时器<br><span class="hljs-attribute">ip</span> ospf dead-interval <span class="hljs-number">60</span><br><br><span class="hljs-attribute">bandwidth</span> <span class="hljs-number">64</span> #调整带宽<br><br><span class="hljs-attribute">router</span> ospf <span class="hljs-number">1</span><br><span class="hljs-attribute">area</span> <span class="hljs-number">0</span> authentication message-digest #OSPF身份验证<br><span class="hljs-attribute">interface</span> serial <span class="hljs-number">0</span>/<span class="hljs-number">0</span>/<span class="hljs-number">0</span><br><span class="hljs-attribute">ip</span> ospf message-digest-key <span class="hljs-number">1</span> md<span class="hljs-number">5</span> R<span class="hljs-number">1</span>-R<span class="hljs-number">2</span><br><br><span class="hljs-attribute">interface</span> serial <span class="hljs-number">0</span>/<span class="hljs-number">0</span>/<span class="hljs-number">1</span><br><span class="hljs-attribute">ip</span> ospf message-digest-key <span class="hljs-number">1</span> md<span class="hljs-number">5</span> R<span class="hljs-number">1</span>-R<span class="hljs-number">3</span><br><br><span class="hljs-comment">#R2</span><br><span class="hljs-attribute">int</span> s<span class="hljs-number">0</span>/<span class="hljs-number">0</span>/<span class="hljs-number">0</span><br><span class="hljs-attribute">ip</span> ospf hello-interval <span class="hljs-number">15</span><br><span class="hljs-attribute">ip</span> ospf dead-interval <span class="hljs-number">60</span><br><br><span class="hljs-attribute">router</span> ospf <span class="hljs-number">1</span><br><span class="hljs-attribute">area</span> <span class="hljs-number">0</span> authentication message-digest<br><span class="hljs-attribute">interface</span> serial <span class="hljs-number">0</span>/<span class="hljs-number">0</span>/<span class="hljs-number">0</span><br><span class="hljs-attribute">ip</span> ospf message-digest-key <span class="hljs-number">1</span> md<span class="hljs-number">5</span> R<span class="hljs-number">1</span>-R<span class="hljs-number">2</span><br><br><span class="hljs-attribute">interface</span> serial <span class="hljs-number">0</span>/<span class="hljs-number">0</span>/<span class="hljs-number">1</span><br><span class="hljs-attribute">ip</span> ospf message-digest-key <span class="hljs-number">1</span> md<span class="hljs-number">5</span> R<span class="hljs-number">2</span>-R<span class="hljs-number">3</span><br><br><span class="hljs-comment">#R3</span><br><span class="hljs-attribute">router</span> ospf <span class="hljs-number">1</span><br><span class="hljs-attribute">area</span> <span class="hljs-number">0</span> authentication message-digest<br><br><span class="hljs-attribute">interface</span> serial <span class="hljs-number">0</span>/<span class="hljs-number">0</span>/<span class="hljs-number">0</span><br><span class="hljs-attribute">ip</span> ospf message-digest-key <span class="hljs-number">1</span> md<span class="hljs-number">5</span> R<span class="hljs-number">1</span>-R<span class="hljs-number">3</span><br><br><span class="hljs-attribute">interface</span> serial <span class="hljs-number">0</span>/<span class="hljs-number">0</span>/<span class="hljs-number">1</span><br><span class="hljs-attribute">ip</span> ospf message-digest-key <span class="hljs-number">1</span> md<span class="hljs-number">5</span> R<span class="hljs-number">2</span>-R<span class="hljs-number">3</span><br></code></pre></td></tr></table></figure>

<h2 id="a5-2-1-4-Configuring-Static-NAT-no-yet"><a href="#a5-2-1-4-Configuring-Static-NAT-no-yet" class="headerlink" title="a5.2.1.4 Configuring Static NAT no yet"></a>a5.2.1.4 Configuring Static NAT no yet</h2><h2 id="a5-2-2-3-OSPFv2排错"><a href="#a5-2-2-3-OSPFv2排错" class="headerlink" title="a5.2.2.3 OSPFv2排错"></a>a5.2.2.3 OSPFv2排错</h2><h2 id="a6-2-3-6-Configuring-Multiarea-OSPFv2"><a href="#a6-2-3-6-Configuring-Multiarea-OSPFv2" class="headerlink" title="a6.2.3.6 Configuring Multiarea OSPFv2"></a>a6.2.3.6 Configuring Multiarea OSPFv2</h2><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs apache"><span class="hljs-comment">#R1</span><br><span class="hljs-attribute">router</span> ospf <span class="hljs-number">1</span><br><span class="hljs-attribute">router</span>-id <span class="hljs-number">1.1.1.1</span><br><span class="hljs-attribute">network</span> <span class="hljs-number">10.1.1.0</span> <span class="hljs-number">0.0.0.255</span> area <span class="hljs-number">1</span><br><span class="hljs-attribute">network</span> <span class="hljs-number">10.1.2.0</span> <span class="hljs-number">0.0.0.255</span> area <span class="hljs-number">1</span><br><span class="hljs-attribute">network</span> <span class="hljs-number">192.168.10.0</span> <span class="hljs-number">0.0.0.3</span> area <span class="hljs-number">0</span><br><br><span class="hljs-comment">#R2</span><br><span class="hljs-attribute">router</span> ospf <span class="hljs-number">1</span><br><span class="hljs-attribute">network</span> <span class="hljs-number">10.2.1.0</span> <span class="hljs-number">0.0.0.255</span> area <span class="hljs-number">0</span><br><span class="hljs-attribute">network</span> <span class="hljs-number">192.168.10.0</span> <span class="hljs-number">0.0.0.3</span> area <span class="hljs-number">0</span><br><span class="hljs-attribute">network</span> <span class="hljs-number">192.168.10.4</span> <span class="hljs-number">0.0.0.3</span> area <span class="hljs-number">0</span><br><br><span class="hljs-comment">#R2</span><br><span class="hljs-attribute">router</span> ospf <span class="hljs-number">1</span><br><span class="hljs-attribute">network</span> <span class="hljs-number">192.168.1.0</span> <span class="hljs-number">0.0.0.255</span> area <span class="hljs-number">2</span><br><span class="hljs-attribute">network</span> <span class="hljs-number">192.168.2.0</span> <span class="hljs-number">0.0.0.255</span> area <span class="hljs-number">2</span><br><span class="hljs-attribute">network</span> <span class="hljs-number">192.168.10.4</span> <span class="hljs-number">0.0.0.3</span> area <span class="hljs-number">0</span><br></code></pre></td></tr></table></figure>

<h2 id="a7-2-2-4-Configuring-Basic-EIGRP-with-IPv4"><a href="#a7-2-2-4-Configuring-Basic-EIGRP-with-IPv4" class="headerlink" title="a7.2.2.4 Configuring Basic EIGRP with IPv4"></a>a7.2.2.4 Configuring Basic EIGRP with IPv4</h2><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><code class="hljs apache"><span class="hljs-comment">#R1：</span><br><span class="hljs-attribute">router</span> eigrp <span class="hljs-number">1</span><br><span class="hljs-attribute">network</span> <span class="hljs-number">172.16.1.0</span> <span class="hljs-number">0.0.0.255</span><br><span class="hljs-attribute">network</span> <span class="hljs-number">172.16.3.0</span> <span class="hljs-number">0.0.0.3</span><br><span class="hljs-attribute">network</span> <span class="hljs-number">192.168.10.4</span> <span class="hljs-number">0.0.0.3</span><br><span class="hljs-attribute">passive</span>-interface g<span class="hljs-number">0</span>/<span class="hljs-number">0</span><br><span class="hljs-attribute">no</span>-autosummary<br><br><span class="hljs-comment">#R2：</span><br><span class="hljs-attribute">router</span> eigrp <span class="hljs-number">1</span><br><span class="hljs-attribute">network</span> <span class="hljs-number">172.16.2.0</span> <span class="hljs-number">0.0.0.255</span><br><span class="hljs-attribute">network</span> <span class="hljs-number">172.16.3.0</span> <span class="hljs-number">0.0.0.3</span><br><span class="hljs-attribute">network</span> <span class="hljs-number">192.168.10.8</span> <span class="hljs-number">0.0.0.3</span><br><span class="hljs-attribute">passive</span>-interface g<span class="hljs-number">0</span>/<span class="hljs-number">0</span><br><span class="hljs-attribute">no</span>-autosummary<br><br><span class="hljs-comment">#R3:</span><br><span class="hljs-attribute">router</span> eigrp <span class="hljs-number">1</span><br><span class="hljs-attribute">network</span> <span class="hljs-number">192.168.1.0</span> <span class="hljs-number">0.0.0.255</span><br><span class="hljs-attribute">network</span> <span class="hljs-number">192.168.10.4</span> <span class="hljs-number">0.0.0.3</span><br><span class="hljs-attribute">network</span> <span class="hljs-number">192.168.10.8</span> <span class="hljs-number">0.0.0.3</span><br><span class="hljs-attribute">passive</span>-interface g<span class="hljs-number">0</span>/<span class="hljs-number">0</span><br><span class="hljs-attribute">no</span>-autosummary<br><br></code></pre></td></tr></table></figure>



<h2 id="4-23"><a href="#4-23" class="headerlink" title="4/23"></a>4/23</h2><figure class="highlight mipsasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs mipsasm"><span class="hljs-keyword">switchport </span>port-security mac-<span class="hljs-keyword">address </span>&#123;mac_address&#125; <span class="hljs-comment"># 静态配置</span><br></code></pre></td></tr></table></figure>



<img src="/2020/03/31/cisco%E8%AF%BE%E7%A8%8B%E4%BB%A3%E7%A0%81%E8%AE%B0%E5%BD%95/image-20200423093049790.png" srcset="/img/loading.gif" lazyload class="" title="image-20200423093049790">



<h2 id="4-28"><a href="#4-28" class="headerlink" title="4/28"></a>4/28</h2><img src="/2020/03/31/cisco%E8%AF%BE%E7%A8%8B%E4%BB%A3%E7%A0%81%E8%AE%B0%E5%BD%95/image-20200428100318146.png" srcset="/img/loading.gif" lazyload class="" title="image-20200428100318146">

<img src="/2020/03/31/cisco%E8%AF%BE%E7%A8%8B%E4%BB%A3%E7%A0%81%E8%AE%B0%E5%BD%95/image-20200428100416162.png" srcset="/img/loading.gif" lazyload class="" title="image-20200428100416162">

<figure class="highlight maxima"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs maxima"><span class="hljs-built_in">show</span> vtp <span class="hljs-built_in">status</span><br></code></pre></td></tr></table></figure>

<figure class="highlight actionscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs actionscript">switchport mode <span class="hljs-keyword">dynamic</span><br></code></pre></td></tr></table></figure>



<img src="/2020/03/31/cisco%E8%AF%BE%E7%A8%8B%E4%BB%A3%E7%A0%81%E8%AE%B0%E5%BD%95/image-20200428101820419.png" srcset="/img/loading.gif" lazyload class="" title="image-20200428101820419">

<p>isl：思科专有</p>
<img src="/2020/03/31/cisco%E8%AF%BE%E7%A8%8B%E4%BB%A3%E7%A0%81%E8%AE%B0%E5%BD%95/image-20200428103111230.png" srcset="/img/loading.gif" lazyload class="" title="image-20200428103111230">

<p>encapsulation dotlQ {num}</p>
<h2 id="4-30"><a href="#4-30" class="headerlink" title="4/30"></a>4/30</h2><img src="/2020/03/31/cisco%E8%AF%BE%E7%A8%8B%E4%BB%A3%E7%A0%81%E8%AE%B0%E5%BD%95/image-20200430091659535.png" srcset="/img/loading.gif" lazyload class="" title="image-20200430091659535">

<h3 id="存储转发"><a href="#存储转发" class="headerlink" title="存储转发"></a>存储转发</h3><p>完全存下来、校验之后再转发</p>
<h3 id="直通"><a href="#直通" class="headerlink" title="直通"></a>直通</h3><p>知道目的mac就开始转发</p>
<h2 id="5-12"><a href="#5-12" class="headerlink" title="5/12"></a>5/12</h2><h3 id="查看当前ios文件设置"><a href="#查看当前ios文件设置" class="headerlink" title="查看当前ios文件设置"></a>查看当前ios文件设置</h3><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs dart"><span class="hljs-keyword">show</span> boot<br></code></pre></td></tr></table></figure>

<p><strong>dir</strong> 命令可用于查看指定目录中的文件列表</p>
<figure class="highlight dos"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs dos"><span class="hljs-built_in">dir</span> flash<br></code></pre></td></tr></table></figure>

<h3 id="配置双工和速率"><a href="#配置双工和速率" class="headerlink" title="配置双工和速率"></a>配置双工和速率</h3><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs apache"><span class="hljs-attribute">intferface</span> f<span class="hljs-number">0</span>/<span class="hljs-number">1</span><br><span class="hljs-attribute">duplex</span> full	//自动协商双工<br><span class="hljs-attribute">speed</span> <span class="hljs-number">100</span><br><span class="hljs-attribute">end</span><br></code></pre></td></tr></table></figure>

<h3 id="Auto-MDIX"><a href="#Auto-MDIX" class="headerlink" title="Auto-MDIX"></a>Auto-MDIX</h3><blockquote>
<p>交换机到交换机或交换机到路由器的连接要求使用不同的以太网电缆。在接口上使用自动介质相关接口交叉 (auto-MDIX) 功能可以解决这一问题。当启用 auto-MDIX 时，接口会自动检测所需电缆连接类型（直通或交叉）并配置相应连接。如果连接到无自动 MDIX 功能的交换机，必须使用直通电缆连接到设备（如，服务器、工作站或路由器）。必须使用交叉线缆连接到其他交换机或中继器。</p>
</blockquote>
<figure class="highlight arduino"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs arduino"><span class="hljs-keyword">int</span> f0/<span class="hljs-number">1</span><br>duplex <span class="hljs-keyword">auto</span><br>speed <span class="hljs-keyword">auto</span>	<span class="hljs-comment">//自动协商速度</span><br>mdix <span class="hljs-keyword">auto</span> <span class="hljs-comment">//启动mdix</span><br>end<br></code></pre></td></tr></table></figure>

<h3 id="6-1-1-2-Vlan的优势"><a href="#6-1-1-2-Vlan的优势" class="headerlink" title="6.1.1.2 Vlan的优势"></a>6.1.1.2 Vlan的优势</h3><blockquote>
<p>VLAN 主要有以下优点：</p>
<ul>
<li><strong>安全</strong> － 含有敏感数据的用户组可与网络的其余部分隔离，从而降低泄露机密信息的可能性。如图所示，教师计算机位于 VLAN 10 上，与学生和访客数据流量完全独立。</li>
</ul>
<ul>
<li><strong>成本降低</strong> － 成本高昂的网络升级需求减少，现有带宽和上行链路的利用率更高，因此可节约成本。</li>
</ul>
<ul>
<li><strong>性能提高</strong> － 将第 2 层平面网络划分为多个逻辑工作组（广播域）可以减少网络上不必要的流量并提高性能。</li>
</ul>
<ul>
<li><strong>减小广播域大小</strong> - 将网络划分为多个 VLAN 可减少广播域中的设备数量。如图所示，该网络中有六台计算机，但有三个广播域：Faculty、Student 和 Guest。</li>
</ul>
<ul>
<li><strong>提高 IT 员工效率</strong> － VLAN 为管理网络带来了方便，因为有相似网络需求的用户将共享同一个 VLAN。当您为特定 VLAN 设置新的交换机时，之前为该 VLAN 配置的所有策略和程序均会在分配新端口后应用到端口上。另外，通过为 VLAN 设置一个适当的名称，IT 员工很容易就知道该 VLAN 的功能。在图中，为了便于识别，我们将 VLAN 10 命名为“Faculty”，将 VLAN 20 命名为“Student”，将 VLAN 30 命名为“Guest”。</li>
</ul>
<ul>
<li><strong>简化项目管理和应用管理</strong> - VLAN 将用户和网络设备聚合到一起，以支持商业需求或地域上的需求。通过划分职能，可以让管理项目或使用专业应用更加轻松；此类应用程序的一个例子是教师的电子学习开发平台。</li>
</ul>
</blockquote>
<p>有vlan，广播帧只从已配置，属于同一vlan的端口转发出去。</p>
<h2 id="5-19"><a href="#5-19" class="headerlink" title="5/19"></a>5/19</h2><h3 id="vlan的类型"><a href="#vlan的类型" class="headerlink" title="vlan的类型"></a>vlan的类型</h3><p>在图中，运行默认配置的交换机上发出 <strong>show vlan brief</strong> 命令。默认情况下，所有端口都分配给 VLAN 1。</p>
<img src="/2020/03/31/cisco%E8%AF%BE%E7%A8%8B%E4%BB%A3%E7%A0%81%E8%AE%B0%E5%BD%95/image-20200519105755366.png" srcset="/img/loading.gif" lazyload class="" title="image-20200519105755366">

<p>所有端口当前已分配给默认 VLAN 1。没有明确指定本征 VLAN，其他 VLAN 都不处于活动状态；因此网络的本征 VLAN 与管理 VLAN 相同。这将导致安全风险</p>
<h3 id="6-1-2-1-Vlan中继"><a href="#6-1-2-1-Vlan中继" class="headerlink" title="6.1.2.1 Vlan中继"></a>6.1.2.1 Vlan中继</h3><p>VLAN TRUNK 允许在交换机之间传播所有 VLAN 流量，这样位于同一 VLAN 但连接到不同交换机的设备便可以通信，不需要路由器的干预。VLAN TRUNK 不属于具体的 VLAN，而是作为多个 VLAN 中交换机与路由器之间的管道。</p>
<h3 id="6-1-2-3-标记以太网帧以便识别VLAN"><a href="#6-1-2-3-标记以太网帧以便识别VLAN" class="headerlink" title="6.1.2.3 标记以太网帧以便识别VLAN"></a>6.1.2.3 标记以太网帧以便识别VLAN</h3><img src="/2020/03/31/cisco%E8%AF%BE%E7%A8%8B%E4%BB%A3%E7%A0%81%E8%AE%B0%E5%BD%95/image-20200519110222765.png" srcset="/img/loading.gif" lazyload class="" title="image-20200519110222765">

<h3 id="6-2-1-2-创建vlan"><a href="#6-2-1-2-创建vlan" class="headerlink" title="6.2.1.2 创建vlan"></a>6.2.1.2 创建vlan</h3><figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs pgsql">configure terminal<br>vlan vlan-id<br><span class="hljs-type">name</span> vlan-<span class="hljs-type">name</span><br><span class="hljs-keyword">end</span><br><br><span class="hljs-keyword">show</span> vlan brief<br><span class="hljs-keyword">show</span> vlan<br></code></pre></td></tr></table></figure>

<h2 id="5-21"><a href="#5-21" class="headerlink" title="5/21"></a>5/21</h2><h3 id="6-2-1-3-端口分配到vlan"><a href="#6-2-1-3-端口分配到vlan" class="headerlink" title="6.2.1.3 端口分配到vlan"></a>6.2.1.3 端口分配到vlan</h3><figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs angelscript">configure terminal<br><span class="hljs-keyword">interface</span> <span class="hljs-symbol">interface_id</span><br><span class="hljs-symbol">switchport</span> <span class="hljs-symbol">mode</span> <span class="hljs-symbol">access</span><br><span class="hljs-symbol">switchport</span> <span class="hljs-symbol">access</span> <span class="hljs-symbol">vlan</span> <span class="hljs-symbol">vlan_id</span><br><span class="hljs-symbol">end</span><br></code></pre></td></tr></table></figure>

<p><strong>注</strong>：使用 <strong>interface range</strong> 命令可同时配置多个接口。</p>
<h3 id="6-2-1-4-删除vlan分配"><a href="#6-2-1-4-删除vlan分配" class="headerlink" title="6.2.1.4 删除vlan分配"></a>6.2.1.4 删除vlan分配</h3><figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs angelscript">configure terminal<br><span class="hljs-keyword">interface</span> <span class="hljs-symbol">f0</span>/<span class="hljs-symbol">18</span><br><span class="hljs-symbol">no</span> <span class="hljs-symbol">switchport</span> <span class="hljs-symbol">access</span> <span class="hljs-symbol">vlan</span><br><span class="hljs-symbol">end</span><br></code></pre></td></tr></table></figure>

<h3 id="6-2-1-5-删除"><a href="#6-2-1-5-删除" class="headerlink" title="6.2.1.5 删除"></a>6.2.1.5 删除</h3><p>no vlan vlan_id 删除vlan</p>
<h2 id="6-2-1-7"><a href="#6-2-1-7" class="headerlink" title="6.2.1.7"></a>6.2.1.7</h2><figure class="highlight reasonml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br></pre></td><td class="code"><pre><code class="hljs reasonml"><span class="hljs-constructor">S1(<span class="hljs-params">config</span>)</span>#vlan <span class="hljs-number">10</span><br><span class="hljs-constructor">S1(<span class="hljs-params">config</span>-<span class="hljs-params">vlan</span>)</span>#name Faculty/Staff<br><span class="hljs-constructor">S1(<span class="hljs-params">config</span>-<span class="hljs-params">vlan</span>)</span>#exit<br><span class="hljs-constructor">S1(<span class="hljs-params">config</span>)</span>#vlan <span class="hljs-number">20</span><br><span class="hljs-constructor">S1(<span class="hljs-params">config</span>-<span class="hljs-params">vlan</span>)</span>#name Students<br><span class="hljs-constructor">S1(<span class="hljs-params">config</span>-<span class="hljs-params">vlan</span>)</span>#ex<br><span class="hljs-constructor">S1(<span class="hljs-params">config</span>)</span>#vlan <span class="hljs-number">30</span><br><span class="hljs-constructor">S1(<span class="hljs-params">config</span>-<span class="hljs-params">vlan</span>)</span>#name <span class="hljs-constructor">Guest(Default)</span><br><span class="hljs-constructor">S1(<span class="hljs-params">config</span>-<span class="hljs-params">vlan</span>)</span>#ex<br><span class="hljs-constructor">S1(<span class="hljs-params">config</span>)</span>#vlan <span class="hljs-number">99</span><br><span class="hljs-constructor">S1(<span class="hljs-params">config</span>-<span class="hljs-params">vlan</span>)</span>#name Management&amp;Native<br><span class="hljs-constructor">S1(<span class="hljs-params">config</span>-<span class="hljs-params">vlan</span>)</span>#ex<br><span class="hljs-built_in">int</span> g0/<span class="hljs-number">1</span> <br>switchport mode trunk<br><span class="hljs-built_in">int</span> g0/<span class="hljs-number">2</span><br>switchport mode trunk<br><br><br><span class="hljs-constructor">S2(<span class="hljs-params">config</span>)</span>#vlan <span class="hljs-number">10</span> <br><span class="hljs-constructor">S2(<span class="hljs-params">config</span>-<span class="hljs-params">vlan</span>)</span>#name Faculty/Staff<br><span class="hljs-constructor">S2(<span class="hljs-params">config</span>-<span class="hljs-params">vlan</span>)</span>#vlan <span class="hljs-number">20</span><br><span class="hljs-constructor">S2(<span class="hljs-params">config</span>-<span class="hljs-params">vlan</span>)</span>#name Students<br><span class="hljs-constructor">S2(<span class="hljs-params">config</span>-<span class="hljs-params">vlan</span>)</span>#vlan <span class="hljs-number">30</span><br><span class="hljs-constructor">S2(<span class="hljs-params">config</span>-<span class="hljs-params">vlan</span>)</span>#name <span class="hljs-constructor">Guest(Default)</span><br><span class="hljs-constructor">S2(<span class="hljs-params">config</span>-<span class="hljs-params">vlan</span>)</span>#vlan <span class="hljs-number">99</span><br><span class="hljs-constructor">S2(<span class="hljs-params">config</span>-<span class="hljs-params">vlan</span>)</span>#name Management&amp;Native<br><span class="hljs-constructor">S2(<span class="hljs-params">config</span>-<span class="hljs-params">vlan</span>)</span>#<span class="hljs-built_in">int</span> f0/<span class="hljs-number">11</span><br><span class="hljs-constructor">S2(<span class="hljs-params">config</span>-<span class="hljs-params">if</span>)</span>#switchport mode access <br><span class="hljs-constructor">S2(<span class="hljs-params">config</span>-<span class="hljs-params">if</span>)</span>#switchport access vlan <span class="hljs-number">10</span><br><span class="hljs-constructor">S2(<span class="hljs-params">config</span>-<span class="hljs-params">if</span>)</span>#<span class="hljs-built_in">int</span> f0/<span class="hljs-number">18</span><br><span class="hljs-constructor">S2(<span class="hljs-params">config</span>-<span class="hljs-params">if</span>)</span>#switchport mode access <br><span class="hljs-constructor">S2(<span class="hljs-params">config</span>-<span class="hljs-params">if</span>)</span>#switchport access vlan <span class="hljs-number">20</span><br><span class="hljs-constructor">S2(<span class="hljs-params">config</span>-<span class="hljs-params">if</span>)</span>#<span class="hljs-built_in">int</span> f0/<span class="hljs-number">6</span><br><span class="hljs-constructor">S2(<span class="hljs-params">config</span>-<span class="hljs-params">if</span>)</span>#switchport mode access <br><span class="hljs-constructor">S2(<span class="hljs-params">config</span>-<span class="hljs-params">if</span>)</span>#switchport access vlan <span class="hljs-number">30</span><br><span class="hljs-constructor">S2(<span class="hljs-params">config</span>)</span>#<span class="hljs-built_in">int</span> g0/<span class="hljs-number">1</span><br><span class="hljs-constructor">S2(<span class="hljs-params">config</span>-<span class="hljs-params">if</span>)</span>#sw <span class="hljs-keyword">mod</span> tr<br><span class="hljs-constructor">S2(<span class="hljs-params">config</span>-<span class="hljs-params">if</span>)</span>#sw <span class="hljs-keyword">mod</span> trunk <br><br><span class="hljs-constructor">S3(<span class="hljs-params">config</span>)</span>#vlan <span class="hljs-number">10</span><br><span class="hljs-constructor">S3(<span class="hljs-params">config</span>-<span class="hljs-params">vlan</span>)</span>#name Faculty/Staff<br><span class="hljs-constructor">S3(<span class="hljs-params">config</span>-<span class="hljs-params">vlan</span>)</span>#<br><span class="hljs-constructor">S3(<span class="hljs-params">config</span>-<span class="hljs-params">vlan</span>)</span>#vlan <span class="hljs-number">20</span><br><span class="hljs-constructor">S3(<span class="hljs-params">config</span>-<span class="hljs-params">vlan</span>)</span>#name Students<br><span class="hljs-constructor">S3(<span class="hljs-params">config</span>-<span class="hljs-params">vlan</span>)</span>#vlan <span class="hljs-number">30</span><br><span class="hljs-constructor">S3(<span class="hljs-params">config</span>-<span class="hljs-params">vlan</span>)</span>#name <span class="hljs-constructor">Guest(Default)</span><br><span class="hljs-constructor">S3(<span class="hljs-params">config</span>-<span class="hljs-params">vlan</span>)</span>#vlan <span class="hljs-number">99</span><br><span class="hljs-constructor">S3(<span class="hljs-params">config</span>-<span class="hljs-params">vlan</span>)</span>#name Management&amp;Native<br><span class="hljs-constructor">S3(<span class="hljs-params">config</span>-<span class="hljs-params">vlan</span>)</span>#ex<br><span class="hljs-constructor">S3(<span class="hljs-params">config</span>)</span>#<span class="hljs-built_in">int</span> f0/<span class="hljs-number">11</span><br><span class="hljs-constructor">S3(<span class="hljs-params">config</span>-<span class="hljs-params">if</span>)</span>#sw <span class="hljs-keyword">mod</span> ac<br><span class="hljs-constructor">S3(<span class="hljs-params">config</span>-<span class="hljs-params">if</span>)</span>#sw <span class="hljs-keyword">mod</span> access <br><span class="hljs-constructor">S3(<span class="hljs-params">config</span>-<span class="hljs-params">if</span>)</span>#sw acc vlan <span class="hljs-number">10</span><br><span class="hljs-constructor">S3(<span class="hljs-params">config</span>-<span class="hljs-params">if</span>)</span>#<span class="hljs-built_in">int</span> f0/<span class="hljs-number">18</span><br><span class="hljs-constructor">S3(<span class="hljs-params">config</span>-<span class="hljs-params">if</span>)</span>#sw <span class="hljs-keyword">mod</span> access <br><span class="hljs-constructor">S3(<span class="hljs-params">config</span>-<span class="hljs-params">if</span>)</span>#sw acc vlan <span class="hljs-number">20</span><br><span class="hljs-constructor">S3(<span class="hljs-params">config</span>-<span class="hljs-params">if</span>)</span>#<span class="hljs-built_in">int</span> f0/<span class="hljs-number">6</span><br><span class="hljs-constructor">S3(<span class="hljs-params">config</span>-<span class="hljs-params">if</span>)</span>#sw <span class="hljs-keyword">mod</span> access <br><span class="hljs-constructor">S3(<span class="hljs-params">config</span>-<span class="hljs-params">if</span>)</span>#sw acc vlan <span class="hljs-number">30</span><br><br><span class="hljs-constructor">S3(<span class="hljs-params">config</span>-<span class="hljs-params">if</span>)</span>#<span class="hljs-built_in">int</span> g0/<span class="hljs-number">2</span><br><span class="hljs-constructor">S3(<span class="hljs-params">config</span>-<span class="hljs-params">if</span>)</span>#sw mode tr<br></code></pre></td></tr></table></figure>

<p>##5/25</p>
<h3 id="6-2-2-2-原生vlan"><a href="#6-2-2-2-原生vlan" class="headerlink" title="6.2.2.2 原生vlan"></a>6.2.2.2 原生vlan</h3><figure class="highlight mipsasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs mipsasm"><span class="hljs-keyword">switchport </span>mode trunk<br><span class="hljs-keyword">switchport </span>trunk native vlan vlan_id <span class="hljs-comment"># 指定vlan给没标记的帧 原生vlan</span><br><span class="hljs-keyword">switchport </span>trunk allowed vlan vlan-list <span class="hljs-comment"># 指定可以通过的vlan清单</span><br><br>no <span class="hljs-keyword">switchport </span>trunk allowed vlan <span class="hljs-comment">#设为允许所有</span><br>no <span class="hljs-keyword">switchport </span>trunk native vlan <span class="hljs-comment">#将原生vlan重置为默认</span><br></code></pre></td></tr></table></figure>

<h3 id="6-3-3-3-单臂路由器"><a href="#6-3-3-3-单臂路由器" class="headerlink" title="6.3.3.3 单臂路由器"></a>6.3.3.3 单臂路由器</h3><img src="/2020/03/31/cisco%E8%AF%BE%E7%A8%8B%E4%BB%A3%E7%A0%81%E8%AE%B0%E5%BD%95/image-20200525222920883.png" srcset="/img/loading.gif" lazyload class="" title="image-20200525222920883">

<figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs apache"><span class="hljs-attribute">interface</span> g<span class="hljs-number">0</span>/<span class="hljs-number">0</span>.<span class="hljs-number">10</span><br><span class="hljs-attribute">encapsulation</span> dotlq <span class="hljs-number">10</span><br><span class="hljs-attribute">ip</span> add<br><span class="hljs-attribute">interface</span> g<span class="hljs-number">0</span>/<span class="hljs-number">0</span>.<span class="hljs-number">30</span><br><span class="hljs-attribute">encapsulation</span> dotlq <span class="hljs-number">30</span><br><br><span class="hljs-attribute">int</span> g<span class="hljs-number">0</span>/<span class="hljs-number">0</span><br><span class="hljs-attribute">no</span> shutdown<br></code></pre></td></tr></table></figure>



<h2 id="6-2-2-4"><a href="#6-2-2-4" class="headerlink" title="6.2.2.4"></a>6.2.2.4</h2><figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><code class="hljs vim">S2S3先按表分配<br><br>S1<br><br><span class="hljs-keyword">int</span> g0/<span class="hljs-number">1</span><br><span class="hljs-keyword">sw</span> mo <span class="hljs-keyword">tr</span><br><span class="hljs-keyword">sw</span> <span class="hljs-keyword">tr</span> native vlan <span class="hljs-number">99</span><br><br><span class="hljs-keyword">int</span> g0/<span class="hljs-number">2</span><br><span class="hljs-keyword">sw</span> mo <span class="hljs-keyword">tr</span><br><span class="hljs-keyword">sw</span> <span class="hljs-keyword">tr</span> native vlan <span class="hljs-number">99</span><br><br>S2<br><br><span class="hljs-keyword">int</span> g0/<span class="hljs-number">1</span><br><span class="hljs-keyword">sw</span> mo <span class="hljs-keyword">tr</span><br><span class="hljs-keyword">sw</span> <span class="hljs-keyword">tr</span> native vlan <span class="hljs-number">99</span><br><br>S3<br><br><span class="hljs-keyword">int</span> g0/<span class="hljs-number">2</span><br><span class="hljs-keyword">sw</span> mo <span class="hljs-keyword">tr</span><br><span class="hljs-keyword">sw</span> <span class="hljs-keyword">tr</span> native vlan <span class="hljs-number">99</span><br></code></pre></td></tr></table></figure>



<h2 id="6-2-3-7"><a href="#6-2-3-7" class="headerlink" title="6.2.3.7"></a>6.2.3.7</h2><p>S3有bug，pc5接在f0/17上</p>
<figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs stylus"><span class="hljs-function"><span class="hljs-title">S2</span><span class="hljs-params">(config)</span></span><span class="hljs-selector-id">#int</span> f0/<span class="hljs-number">11</span><br><span class="hljs-function"><span class="hljs-title">S2</span><span class="hljs-params">(config-if)</span></span><span class="hljs-selector-id">#no</span> sw ac vlan <span class="hljs-number">30</span><br><span class="hljs-function"><span class="hljs-title">S2</span><span class="hljs-params">(config-if)</span></span><span class="hljs-selector-id">#sw</span> ac vlan <span class="hljs-number">10</span><br><span class="hljs-function"><span class="hljs-title">S2</span><span class="hljs-params">(config-if)</span></span><span class="hljs-selector-id">#int</span> g0/<span class="hljs-number">1</span><br><span class="hljs-function"><span class="hljs-title">S2</span><span class="hljs-params">(config-if)</span></span><span class="hljs-selector-id">#sw</span> mo t<br><span class="hljs-function"><span class="hljs-title">S2</span><span class="hljs-params">(config-if)</span></span><span class="hljs-selector-id">#sw</span> mo trunk <br><br><span class="hljs-function"><span class="hljs-title">S3</span><span class="hljs-params">(config)</span></span><span class="hljs-selector-id">#int</span> f0/<span class="hljs-number">6</span><br><span class="hljs-function"><span class="hljs-title">S3</span><span class="hljs-params">(config-if)</span></span><span class="hljs-selector-id">#no</span> sw ac vlan <span class="hljs-number">20</span><br><span class="hljs-function"><span class="hljs-title">S3</span><span class="hljs-params">(config-if)</span></span><span class="hljs-selector-id">#sw</span> ac vla <span class="hljs-number">30</span><br><span class="hljs-function"><span class="hljs-title">S3</span><span class="hljs-params">(config)</span></span><span class="hljs-selector-id">#int</span> f0/<span class="hljs-number">17</span><br><span class="hljs-function"><span class="hljs-title">S3</span><span class="hljs-params">(config-if)</span></span><span class="hljs-selector-id">#sw</span> ac vla <span class="hljs-number">20</span><br><br><br>PC6的ip改成<span class="hljs-number">172.17</span>.<span class="hljs-number">30.26</span><br></code></pre></td></tr></table></figure>

<h2 id="6-2-3-8"><a href="#6-2-3-8" class="headerlink" title="6.2.3.8"></a>6.2.3.8</h2><p>排错，先放过</p>
<h2 id="6-3-3-6"><a href="#6-3-3-6" class="headerlink" title="6.3.3.6"></a>6.3.3.6</h2><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs stylus"><span class="hljs-function"><span class="hljs-title">S1</span><span class="hljs-params">(config)</span></span><span class="hljs-selector-id">#vlan</span> <span class="hljs-number">10</span><br><span class="hljs-function"><span class="hljs-title">S1</span><span class="hljs-params">(config-vlan)</span></span>#ex<br><span class="hljs-function"><span class="hljs-title">S1</span><span class="hljs-params">(config)</span></span><span class="hljs-selector-id">#vlan</span> <span class="hljs-number">30</span><br><span class="hljs-function"><span class="hljs-title">S1</span><span class="hljs-params">(config-vlan)</span></span><span class="hljs-selector-id">#int</span> f0/<span class="hljs-number">11</span><br><span class="hljs-function"><span class="hljs-title">S1</span><span class="hljs-params">(config-if)</span></span><span class="hljs-selector-id">#sw</span> m ac<br><span class="hljs-function"><span class="hljs-title">S1</span><span class="hljs-params">(config-if)</span></span><span class="hljs-selector-id">#sw</span> ac vlan <span class="hljs-number">10</span><br><span class="hljs-function"><span class="hljs-title">S1</span><span class="hljs-params">(config-if)</span></span><span class="hljs-selector-id">#int</span> f0/<span class="hljs-number">6</span><br><span class="hljs-function"><span class="hljs-title">S1</span><span class="hljs-params">(config-if)</span></span><span class="hljs-selector-id">#sw</span> m ac<br><span class="hljs-function"><span class="hljs-title">S1</span><span class="hljs-params">(config-if)</span></span><span class="hljs-selector-id">#sw</span> ac vlan <span class="hljs-number">30</span><br><span class="hljs-function"><span class="hljs-title">S1</span><span class="hljs-params">(config-if)</span></span><span class="hljs-selector-id">#int</span> g0/<span class="hljs-number">1</span><br><span class="hljs-function"><span class="hljs-title">S1</span><span class="hljs-params">(config-if)</span></span><span class="hljs-selector-id">#sw</span> m trunk <br><br><span class="hljs-function"><span class="hljs-title">R1</span><span class="hljs-params">(config-if)</span></span><span class="hljs-selector-id">#int</span> g0/<span class="hljs-number">0.10</span><br><span class="hljs-function"><span class="hljs-title">R1</span><span class="hljs-params">(config-subif)</span></span><span class="hljs-selector-id">#encapsulation</span> dot1Q <span class="hljs-number">10</span><br><span class="hljs-function"><span class="hljs-title">R1</span><span class="hljs-params">(config-subif)</span></span><span class="hljs-selector-id">#ip</span> add <span class="hljs-number">172.17</span>.<span class="hljs-number">10.1</span> <span class="hljs-number">255.255</span>.<span class="hljs-number">255.0</span><br><span class="hljs-function"><span class="hljs-title">R1</span><span class="hljs-params">(config-subif)</span></span><span class="hljs-selector-id">#int</span> g0/<span class="hljs-number">0.30</span><br><span class="hljs-function"><span class="hljs-title">R1</span><span class="hljs-params">(config-subif)</span></span><span class="hljs-selector-id">#encapsulation</span> dot1Q <span class="hljs-number">30</span><br><span class="hljs-function"><span class="hljs-title">R1</span><span class="hljs-params">(config-subif)</span></span><span class="hljs-selector-id">#ip</span> add <span class="hljs-number">172.17</span>.<span class="hljs-number">30.1</span> <span class="hljs-number">255.255</span>.<span class="hljs-number">255.0</span><br><span class="hljs-function"><span class="hljs-title">R1</span><span class="hljs-params">(config-subif)</span></span><span class="hljs-selector-id">#int</span> g0/<span class="hljs-number">0</span><br><span class="hljs-function"><span class="hljs-title">R1</span><span class="hljs-params">(config-if)</span></span><span class="hljs-selector-id">#no</span> shut<br></code></pre></td></tr></table></figure>

<h2 id="6-3-3-8"><a href="#6-3-3-8" class="headerlink" title="6.3.3.8"></a>6.3.3.8</h2><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><code class="hljs stylus"><span class="hljs-function"><span class="hljs-title">R1</span><span class="hljs-params">(config)</span></span><span class="hljs-selector-id">#int</span> g0/<span class="hljs-number">0</span><br><span class="hljs-function"><span class="hljs-title">R1</span><span class="hljs-params">(config-if)</span></span><span class="hljs-selector-id">#ip</span> ad  <span class="hljs-number">172.17</span>.<span class="hljs-number">25.2</span> <span class="hljs-number">255.255</span>.<span class="hljs-number">255.252</span><br><span class="hljs-function"><span class="hljs-title">R1</span><span class="hljs-params">(config-if)</span></span><span class="hljs-selector-id">#int</span> g0/<span class="hljs-number">1.10</span><br><span class="hljs-function"><span class="hljs-title">R1</span><span class="hljs-params">(config-subif)</span></span><span class="hljs-selector-id">#encapsulation</span> dot1Q <span class="hljs-number">10</span><br><span class="hljs-function"><span class="hljs-title">R1</span><span class="hljs-params">(config-subif)</span></span><span class="hljs-selector-id">#ip</span> add <span class="hljs-number">172.17</span>.<span class="hljs-number">10.1</span> <span class="hljs-number">255.255</span>.<span class="hljs-number">255.0</span><br><span class="hljs-function"><span class="hljs-title">R1</span><span class="hljs-params">(config-subif)</span></span><span class="hljs-selector-id">#int</span> g0/<span class="hljs-number">1.20</span><br><span class="hljs-function"><span class="hljs-title">R1</span><span class="hljs-params">(config-subif)</span></span><span class="hljs-selector-id">#encapsulation</span> dot1Q <span class="hljs-number">20</span><br><span class="hljs-function"><span class="hljs-title">R1</span><span class="hljs-params">(config-subif)</span></span><span class="hljs-selector-id">#ip</span> add <span class="hljs-number">172.17</span>.<span class="hljs-number">20.1</span> <span class="hljs-number">255.255</span>.<span class="hljs-number">255.0</span><br><span class="hljs-function"><span class="hljs-title">R1</span><span class="hljs-params">(config-subif)</span></span><span class="hljs-selector-id">#int</span> g0/<span class="hljs-number">1.30</span><br><span class="hljs-function"><span class="hljs-title">R1</span><span class="hljs-params">(config-subif)</span></span><span class="hljs-selector-id">#encapsulation</span> dot1Q <span class="hljs-number">30</span><br><span class="hljs-function"><span class="hljs-title">R1</span><span class="hljs-params">(config-subif)</span></span><span class="hljs-selector-id">#ip</span> add <span class="hljs-number">172.17</span>.<span class="hljs-number">30.1</span> <span class="hljs-number">255.255</span>.<span class="hljs-number">255.0</span><br><span class="hljs-function"><span class="hljs-title">R1</span><span class="hljs-params">(config-subif)</span></span><span class="hljs-selector-id">#int</span> g0/<span class="hljs-number">1.88</span><br><span class="hljs-function"><span class="hljs-title">R1</span><span class="hljs-params">(config-subif)</span></span><span class="hljs-selector-id">#encapsulation</span> dot1Q <span class="hljs-number">88</span><br><span class="hljs-function"><span class="hljs-title">R1</span><span class="hljs-params">(config-subif)</span></span><span class="hljs-selector-id">#ip</span> add <span class="hljs-number">172.17</span>.<span class="hljs-number">88.1</span> <span class="hljs-number">255.255</span>.<span class="hljs-number">255.0</span><br><span class="hljs-function"><span class="hljs-title">R1</span><span class="hljs-params">(config-subif)</span></span><span class="hljs-selector-id">#int</span> g0/<span class="hljs-number">1.99</span><br><span class="hljs-function"><span class="hljs-title">R1</span><span class="hljs-params">(config-subif)</span></span><span class="hljs-selector-id">#encapsulation</span> dot1Q <span class="hljs-number">99</span><br><span class="hljs-function"><span class="hljs-title">R1</span><span class="hljs-params">(config-subif)</span></span><span class="hljs-selector-id">#ip</span> add <span class="hljs-number">172.17</span>.<span class="hljs-number">99.1</span> <span class="hljs-number">255.255</span>.<span class="hljs-number">255.0</span><br><span class="hljs-function"><span class="hljs-title">R1</span><span class="hljs-params">(config-subif)</span></span><span class="hljs-selector-id">#int</span> g0/<span class="hljs-number">1</span><br><span class="hljs-function"><span class="hljs-title">R1</span><span class="hljs-params">(config-if)</span></span><span class="hljs-selector-id">#no</span> shut<br><br><span class="hljs-function"><span class="hljs-title">S1</span><span class="hljs-params">(config-if-range)</span></span><span class="hljs-selector-id">#vlan</span> <span class="hljs-number">10</span><br><span class="hljs-function"><span class="hljs-title">S1</span><span class="hljs-params">(config-vlan)</span></span><span class="hljs-selector-id">#name</span> Faculty/Staff<br><span class="hljs-function"><span class="hljs-title">S1</span><span class="hljs-params">(config-vlan)</span></span><span class="hljs-selector-id">#vlan</span> <span class="hljs-number">20</span><br><span class="hljs-function"><span class="hljs-title">S1</span><span class="hljs-params">(config-vlan)</span></span><span class="hljs-selector-id">#name</span> Students<br><span class="hljs-function"><span class="hljs-title">S1</span><span class="hljs-params">(config-vlan)</span></span><span class="hljs-selector-id">#vlan</span> <span class="hljs-number">30</span><br><span class="hljs-function"><span class="hljs-title">S1</span><span class="hljs-params">(config-vlan)</span></span><span class="hljs-selector-id">#name</span> Guest(Default)<br><span class="hljs-function"><span class="hljs-title">S1</span><span class="hljs-params">(config-vlan)</span></span><span class="hljs-selector-id">#vlan</span> <span class="hljs-number">88</span><br><span class="hljs-function"><span class="hljs-title">S1</span><span class="hljs-params">(config-vlan)</span></span><span class="hljs-selector-id">#name</span> Native<br><span class="hljs-function"><span class="hljs-title">S1</span><span class="hljs-params">(config-vlan)</span></span><span class="hljs-selector-id">#vlan</span> <span class="hljs-number">99</span><br><span class="hljs-function"><span class="hljs-title">S1</span><span class="hljs-params">(config-vlan)</span></span><span class="hljs-selector-id">#name</span> Managemen<br><br><span class="hljs-function"><span class="hljs-title">S1</span><span class="hljs-params">(config)</span></span><span class="hljs-selector-id">#ip</span> default-gateway <span class="hljs-number">172.17</span>.<span class="hljs-number">99.1</span><br><span class="hljs-function"><span class="hljs-title">S1</span><span class="hljs-params">(config)</span></span><span class="hljs-selector-id">#int</span> vlan99<br><span class="hljs-function"><span class="hljs-title">S1</span><span class="hljs-params">(config-if)</span></span><span class="hljs-selector-id">#ip</span> add <span class="hljs-number">172.17</span>.<span class="hljs-number">99.10</span> <span class="hljs-number">255.255</span>.<span class="hljs-number">255.0</span><br><span class="hljs-function"><span class="hljs-title">S1</span><span class="hljs-params">(config-if)</span></span><span class="hljs-selector-id">#no</span> shut<br><br><span class="hljs-function"><span class="hljs-title">S1</span><span class="hljs-params">(config)</span></span><span class="hljs-selector-id">#int</span> g0/<span class="hljs-number">1</span> <br><span class="hljs-function"><span class="hljs-title">S1</span><span class="hljs-params">(config-if)</span></span><span class="hljs-selector-id">#sw</span> t native vlan <span class="hljs-number">88</span><br></code></pre></td></tr></table></figure>

<h2 id="6-4-1-2"><a href="#6-4-1-2" class="headerlink" title="6.4.1.2"></a>6.4.1.2</h2><figure class="highlight reasonml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><code class="hljs reasonml"><span class="hljs-constructor">R1(<span class="hljs-params">config</span>)</span>#<span class="hljs-built_in">int</span> s0/<span class="hljs-number">0</span>/<span class="hljs-number">0</span><br>(config-<span class="hljs-keyword">if</span>)#ip ad <span class="hljs-number">172.31</span>.<span class="hljs-number">1.2</span> <span class="hljs-number">255.255</span>.<span class="hljs-number">255.0</span><br><span class="hljs-constructor">R1(<span class="hljs-params">config</span>-<span class="hljs-params">if</span>)</span>#<span class="hljs-built_in">int</span> g0/<span class="hljs-number">0.10</span><br><span class="hljs-constructor">R1(<span class="hljs-params">config</span>-<span class="hljs-params">subif</span>)</span>#encapsulation  dot1Q <span class="hljs-number">10</span><br><span class="hljs-constructor">R1(<span class="hljs-params">config</span>-<span class="hljs-params">subif</span>)</span>#ip add <span class="hljs-number">172.31</span>.<span class="hljs-number">10.1</span> <span class="hljs-number">255.255</span>.<span class="hljs-number">255.0</span><br><span class="hljs-constructor">R1(<span class="hljs-params">config</span>-<span class="hljs-params">subif</span>)</span>#<span class="hljs-built_in">int</span> g0/<span class="hljs-number">0.20</span><br><span class="hljs-constructor">R1(<span class="hljs-params">config</span>-<span class="hljs-params">subif</span>)</span>#ip add <span class="hljs-number">172.31</span>.<span class="hljs-number">20.1</span> <span class="hljs-number">255.255</span>.<span class="hljs-number">255.0</span><br><span class="hljs-constructor">R1(<span class="hljs-params">config</span>-<span class="hljs-params">subif</span>)</span>#<span class="hljs-built_in">int</span> g0/<span class="hljs-number">0.20</span><br><span class="hljs-constructor">R1(<span class="hljs-params">config</span>-<span class="hljs-params">subif</span>)</span>#encapsulation d<br><span class="hljs-constructor">R1(<span class="hljs-params">config</span>-<span class="hljs-params">subif</span>)</span>#encapsulation dot1Q <span class="hljs-number">20</span><br><span class="hljs-constructor">R1(<span class="hljs-params">config</span>-<span class="hljs-params">subif</span>)</span>#ip add <span class="hljs-number">172.31</span>.<span class="hljs-number">20.1</span> <span class="hljs-number">255.255</span>.<span class="hljs-number">255.0</span><br><span class="hljs-constructor">R1(<span class="hljs-params">config</span>-<span class="hljs-params">subif</span>)</span>#<span class="hljs-built_in">int</span> g0/<span class="hljs-number">0.30</span><br><span class="hljs-constructor">R1(<span class="hljs-params">config</span>-<span class="hljs-params">subif</span>)</span>#encapsulation dot1Q <span class="hljs-number">30</span><br><span class="hljs-constructor">R1(<span class="hljs-params">config</span>-<span class="hljs-params">subif</span>)</span>#ip add <span class="hljs-number">172.31</span>.<span class="hljs-number">30.1</span> <span class="hljs-number">255.255</span>.<span class="hljs-number">255.0</span><br><span class="hljs-constructor">R1(<span class="hljs-params">config</span>-<span class="hljs-params">subif</span>)</span>#<span class="hljs-built_in">int</span> g0/<span class="hljs-number">0.88</span><br><span class="hljs-constructor">R1(<span class="hljs-params">config</span>-<span class="hljs-params">subif</span>)</span>#encapsulation dot1Q <span class="hljs-number">88</span><br><span class="hljs-constructor">R1(<span class="hljs-params">config</span>-<span class="hljs-params">subif</span>)</span>#ip add <span class="hljs-number">172.31</span>.<span class="hljs-number">88.1</span> <span class="hljs-number">255.255</span>.<span class="hljs-number">255.0</span><br><span class="hljs-constructor">R1(<span class="hljs-params">config</span>-<span class="hljs-params">subif</span>)</span>#<span class="hljs-built_in">int</span> g0/<span class="hljs-number">0.99</span><br><span class="hljs-constructor">R1(<span class="hljs-params">config</span>-<span class="hljs-params">subif</span>)</span>#encapsulation dot1Q <span class="hljs-number">99</span> native  ## native!!!!!!!<br><span class="hljs-constructor">R1(<span class="hljs-params">config</span>-<span class="hljs-params">subif</span>)</span>#ip add <span class="hljs-number">172.31</span>.<span class="hljs-number">99.1</span> <span class="hljs-number">255.255</span>.<span class="hljs-number">255.0</span><br><br><br><span class="hljs-constructor">S1(<span class="hljs-params">config</span>)</span>#vlan <span class="hljs-number">10</span><br><span class="hljs-constructor">S1(<span class="hljs-params">config</span>-<span class="hljs-params">vlan</span>)</span>#name Sales<br><span class="hljs-constructor">S1(<span class="hljs-params">config</span>-<span class="hljs-params">vlan</span>)</span>#vlan <span class="hljs-number">20</span><br><span class="hljs-constructor">S1(<span class="hljs-params">config</span>-<span class="hljs-params">vlan</span>)</span>#name Production<br><span class="hljs-constructor">S1(<span class="hljs-params">config</span>-<span class="hljs-params">vlan</span>)</span>#vlan <span class="hljs-number">30</span><br><span class="hljs-constructor">S1(<span class="hljs-params">config</span>-<span class="hljs-params">vlan</span>)</span>#name Marketing<br><span class="hljs-constructor">S1(<span class="hljs-params">config</span>-<span class="hljs-params">vlan</span>)</span>#vlan <span class="hljs-number">88</span><br><span class="hljs-constructor">S1(<span class="hljs-params">config</span>-<span class="hljs-params">vlan</span>)</span>#name Management<br><span class="hljs-constructor">S1(<span class="hljs-params">config</span>-<span class="hljs-params">vlan</span>)</span>#vlan <span class="hljs-number">99</span><br><span class="hljs-constructor">S1(<span class="hljs-params">config</span>-<span class="hljs-params">vlan</span>)</span>#name Native<br><span class="hljs-constructor">S1(<span class="hljs-params">config</span>-<span class="hljs-params">vlan</span>)</span>#ex<br><span class="hljs-constructor">S1(<span class="hljs-params">config</span>)</span>#<span class="hljs-built_in">int</span> vlan <span class="hljs-number">88</span><br><span class="hljs-constructor">S1(<span class="hljs-params">config</span>-<span class="hljs-params">if</span>)</span>#ip add <span class="hljs-number">172.31</span>.<span class="hljs-number">88.33</span> <span class="hljs-number">255.255</span>.<span class="hljs-number">255.0</span><br><span class="hljs-constructor">S1(<span class="hljs-params">config</span>-<span class="hljs-params">if</span>)</span>#ex<br><span class="hljs-constructor">S1(<span class="hljs-params">config</span>)</span>#ip default-gateway <span class="hljs-number">172.31</span>.<span class="hljs-number">88.1</span><br><span class="hljs-built_in">int</span> g0/<span class="hljs-number">1</span><br><span class="hljs-constructor">S1(<span class="hljs-params">config</span>-<span class="hljs-params">if</span>)</span>#sw m trunk <br><span class="hljs-constructor">S1(<span class="hljs-params">config</span>-<span class="hljs-params">if</span>)</span>#sw trunk native vlan <span class="hljs-number">99</span><br><br><span class="hljs-constructor">HQ(<span class="hljs-params">config</span>)</span>#ip route <span class="hljs-number">172.31</span>.<span class="hljs-number">10.0</span> <span class="hljs-number">255.255</span>.<span class="hljs-number">255.0</span> Serial0/<span class="hljs-number">0</span>/<span class="hljs-number">0</span><br><span class="hljs-constructor">HQ(<span class="hljs-params">config</span>)</span>#ip route <span class="hljs-number">172.31</span>.<span class="hljs-number">20.0</span> <span class="hljs-number">255.255</span>.<span class="hljs-number">255.0</span> Serial0/<span class="hljs-number">0</span>/<span class="hljs-number">0</span><br><span class="hljs-constructor">HQ(<span class="hljs-params">config</span>)</span>#ip route <span class="hljs-number">172.31</span>.<span class="hljs-number">30.0</span> <span class="hljs-number">255.255</span>.<span class="hljs-number">255.0</span> Serial0/<span class="hljs-number">0</span>/<span class="hljs-number">0</span><br><span class="hljs-constructor">HQ(<span class="hljs-params">config</span>)</span>#ip route <span class="hljs-number">172.31</span>.<span class="hljs-number">88.0</span> <span class="hljs-number">255.255</span>.<span class="hljs-number">255.0</span> Serial0/<span class="hljs-number">0</span>/<span class="hljs-number">0</span><br><span class="hljs-constructor">HQ(<span class="hljs-params">config</span>)</span>#ip route <span class="hljs-number">209.165</span>.<span class="hljs-number">200.0</span> <span class="hljs-number">255.255</span>.<span class="hljs-number">255.224</span> Serial0/<span class="hljs-number">1</span>/<span class="hljs-number">0</span><br><span class="hljs-constructor">HQ(<span class="hljs-params">config</span>)</span>#ip route <span class="hljs-number">209.165</span>.<span class="hljs-number">200.0</span> <span class="hljs-number">255.255</span>.<span class="hljs-number">255.224</span> Serial0/<span class="hljs-number">1</span>/<span class="hljs-number">1</span> <span class="hljs-number">10</span><br></code></pre></td></tr></table></figure>





<h2 id="7-4-1-2"><a href="#7-4-1-2" class="headerlink" title="7.4.1.2 ??????"></a>7.4.1.2 ??????</h2><p>1.1.11100000.00000000</p>
<p>172.16.224</p>
<p>192~254</p>
<figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br></pre></td><td class="code"><pre><code class="hljs nginx"><span class="hljs-attribute">hostname</span> Branch<br>!<br>interface GigabitEthernet0/<span class="hljs-number">0</span><br>ip address <span class="hljs-number">172.16.159.254</span> <span class="hljs-number">255.255.240.0</span><br>ip access-group HQServer in<br><span class="hljs-literal">no</span> shut<br>!<br>interface GigabitEthernet0/<span class="hljs-number">1</span><br>ip address <span class="hljs-number">172.16.143.254</span> <span class="hljs-number">255.255.240.0</span><br><span class="hljs-literal">no</span> shut<br>!<br>interface Serial0/<span class="hljs-number">0</span>/<span class="hljs-number">0</span><br>ip address <span class="hljs-number">192.168.0.2</span> <span class="hljs-number">255.255.255.252</span><br><span class="hljs-literal">no</span> shut<br>!<br>router rip<br>version <span class="hljs-number">2</span><br>passive-interface GigabitEthernet0/<span class="hljs-number">0</span><br>passive-interface GigabitEthernet0/<span class="hljs-number">1</span><br>network <span class="hljs-number">172.16.0.0</span><br>network <span class="hljs-number">192.168.0.0</span><br><span class="hljs-literal">no</span> auto-summary<br>!<br>ip access-list standard HQServer<br>deny <span class="hljs-number">172.16.128.0</span> <span class="hljs-number">0.0.31.255</span><br>permit any<br><br><br><br>hostname HQ<br>!<br>interface GigabitEthernet0/<span class="hljs-number">0</span><br>ip address <span class="hljs-number">172.16.127.254</span> <span class="hljs-number">255.255.192.0</span><br>ip access-group BranchServer in<br><span class="hljs-literal">no</span> shut<br>!<br>interface GigabitEthernet0/<span class="hljs-number">1</span><br>ip address <span class="hljs-number">172.16.63.254</span> <span class="hljs-number">255.255.192.0</span><br><span class="hljs-literal">no</span> shut<br>!<br>interface Serial0/<span class="hljs-number">0</span>/<span class="hljs-number">0</span><br>ip address <span class="hljs-number">192.168.0.1</span> <span class="hljs-number">255.255.255.252</span><br><span class="hljs-literal">no</span> shut<br>!<br>interface Serial0/<span class="hljs-number">0</span>/<span class="hljs-number">1</span><br>ip address <span class="hljs-number">64.104.34.2</span> <span class="hljs-number">255.255.255.252</span><br><span class="hljs-literal">no</span> shut<br>!<br>router rip<br>version <span class="hljs-number">2</span><br>passive-interface GigabitEthernet0/<span class="hljs-number">0</span><br>passive-interface GigabitEthernet0/<span class="hljs-number">1</span><br>passive-interface Serial0/<span class="hljs-number">0</span>/<span class="hljs-number">1</span><br>network <span class="hljs-number">172.16.0.0</span><br>network <span class="hljs-number">192.168.0.0</span><br>default-information originate<br><span class="hljs-literal">no</span> auto-summary<br>!<br>ip route <span class="hljs-number">0.0.0.0</span> <span class="hljs-number">0.0.0.0</span> Serial0/<span class="hljs-number">0</span>/<span class="hljs-number">1</span><br>!<br>ip access-list standard BranchServer<br>deny <span class="hljs-number">172.16.64.0</span> <span class="hljs-number">0.0.63.255</span><br>permit any<br></code></pre></td></tr></table></figure>

<h2 id="5-27"><a href="#5-27" class="headerlink" title="5/27"></a>5/27</h2><h3 id="7-1-1-3-ACL"><a href="#7-1-1-3-ACL" class="headerlink" title="7.1.1.3 ACL"></a>7.1.1.3 ACL</h3><ul>
<li><strong>入站 ACL</strong> - 传入数据包经过处理之后才会被路由到出站接口。因为如果数据包被丢弃，就<strong>节省了执行路由查找</strong>的开销，所以入站 ACL 非常高效。如果 ACL 允许该数据包，则会处理该数据包以进行路由。当与入站接口连接的网络是需要检测的数据包的唯一来源时，最适合使用入站 ACL 来过滤数据包。(一进多出)</li>
<li><strong>出站 ACL</strong> - 传入数据包路由到出站接口后，由出站 ACL 进行处理。<strong>在来自多个入站接口的数据包通过同一出站接口之前，对数据包应用相同过滤器时，最适合使用出站 ACL。</strong>（多进一出）</li>
</ul>
<h3 id="7-1-2-5"><a href="#7-1-2-5" class="headerlink" title="7.1.2.5"></a>7.1.2.5</h3><figure class="highlight dns"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs dns">access-list <span class="hljs-number">1</span> permit any<br>!OR<br>access-list <span class="hljs-number">1</span> permit <span class="hljs-number">0.0.0.0</span> <span class="hljs-number">255.255.255.255</span><br><br>access-list <span class="hljs-number">1</span> permit <span class="hljs-number">192.168.10.10</span> <span class="hljs-number">0.0.0.0</span><br>!OR<br>access-list <span class="hljs-number">1</span> permit host <span class="hljs-number">192.168.10.10</span><br></code></pre></td></tr></table></figure>

<p><strong>应用 ACL 的规则</strong></p>
<p>一些使用 ACL 的指导原则：</p>
<ul>
<li><p>在位于内部网络和外部网络（例如互联网）交界处的防火墙路由器上使用 ACL。</p>
</li>
<li><p>在位于网络两个部分交界处的路由器上使用 ACL，以控制进出内部网络特定部分的流量。</p>
</li>
<li><p>在边界路由器（即位于网络边界的路由器）上配置 ACL。这样可以在内外部网络之间，或网络中受控度较低的区域与敏感区域之间起到基本的缓冲作用。</p>
</li>
<li><p>为边界路由器接口上配置的每种网络协议配置 ACL。</p>
</li>
</ul>
<p>为每种协议 (per protocol)、每个方向 (per direction)、每个接口 (per interface) 配置一个 ACL：</p>
<ul>
<li><p><strong>每种协议一个 ACL</strong> - 要控制接口上的流量，必须为接口上启用的每种协议定义相应的 ACL。</p>
</li>
<li><p><strong>每个方向一个 ACL</strong> - 一个 ACL 只能控制接口上一个方向的流量。要控制入站流量和出站流量，必须分别定义两个 ACL。</p>
</li>
<li><p><strong>每个接口一个 ACL</strong> - 一个 ACL 只能控制一个接口（例如 GigabitEthernet 0/0）上的流量。</p>
</li>
</ul>
<h3 id="7-1-4-1-拓展acl和标准的使用情况"><a href="#7-1-4-1-拓展acl和标准的使用情况" class="headerlink" title="7.1.4.1 拓展acl和标准的使用情况??"></a>7.1.4.1 拓展acl和标准的使用情况??</h3><p><strong>扩展 ACL</strong> - 将扩展 ACL 放置在尽可能靠近需要过滤的流量源的位置上。这样，不需要的流量会在靠近源网络的位置遭到拒绝，而无需通过网络基础设施。</p>
<p><strong>标准 ACL</strong> - 由于标准 ACL 不会指定目标地址，所以其位置应该尽可能靠近目标。在<strong>流量源附近设置标准 ACL</strong> 可以有效阻止流量通过应用了 ACL 的接口到达任何其他网络。</p>
<p>标准 ACL 命令的完整语法如下：</p>
<p>Router(config)# <strong>access-list</strong> <em>access-list-number</em> { <strong>deny</strong> | <strong>permit</strong> | <strong>remark</strong> } <em>source</em> [ <em>source-wildcard</em> ] [ <strong>log</strong> ]</p>
<p>[ <em>source-wildcard</em> ] （可选）要应用到源得32位通配符掩码。在要忽略得位上置1。</p>
<h3 id="7-2-1-2"><a href="#7-2-1-2" class="headerlink" title="7.2.1.2"></a>7.2.1.2</h3><p>配置标准 IPv4 ACL 之后，可以在接口配置模式下使用 <strong>ip access-group</strong> 命令将其关联到接口：</p>
<p>Router(config-if)# <strong>ip access-group</strong> { <em>access-list-number</em> | <em>access-list-name</em> } { <strong>in</strong> | <strong>out</strong> }</p>
<p>in/out 入站 出站过滤器</p>
<h3 id="7-2-1-3"><a href="#7-2-1-3" class="headerlink" title="7.2.1.3"></a>7.2.1.3</h3><img src="/2020/03/31/cisco%E8%AF%BE%E7%A8%8B%E4%BB%A3%E7%A0%81%E8%AE%B0%E5%BD%95/image-20200527092034631.png" srcset="/img/loading.gif" lazyload class="" title="image-20200527092034631">

<p>拒绝位于 192.168.10.10 的主机 PC1。但允许 192.168.10.0/24 网络中的其他各台主机。</p>
<h3 id="7-2-2-3"><a href="#7-2-2-3" class="headerlink" title="7.2.2.3"></a>7.2.2.3</h3><img src="/2020/03/31/cisco%E8%AF%BE%E7%A8%8B%E4%BB%A3%E7%A0%81%E8%AE%B0%E5%BD%95/image-20200527101158208.png" srcset="/img/loading.gif" lazyload class="" title="image-20200527101158208">

<p>show ip interface 端口</p>
<h3 id="7-2-3-1"><a href="#7-2-3-1" class="headerlink" title="7.2.3.1"></a>7.2.3.1</h3><p>线路配置模式中配置的 <strong>access-class</strong> 命令可限制特定 VTY（接入思科设备）与访问列表中地址之间的传入和传出连接。</p>
<p><strong>access-class</strong> 命令的语法是：</p>
<p>Router(config-line)# <strong>access-class</strong> <em>access-list-number</em> { <strong>in</strong> [ <strong>vrf-also</strong> ] | <strong>out</strong> }</p>
<p>==参数 <strong>in</strong> 限制访问列表中的地址和思科设备之间的传入连接，而参数 <strong>out</strong> 则限制特定思科设备与访问列表中地址之间的传出连接。==</p>
<img src="/2020/03/31/cisco%E8%AF%BE%E7%A8%8B%E4%BB%A3%E7%A0%81%E8%AE%B0%E5%BD%95/image-20200527102513372.png" srcset="/img/loading.gif" lazyload class="" title="image-20200527102513372">

<h3 id="7-3-1-2"><a href="#7-3-1-2" class="headerlink" title="7.3.1.2"></a>7.3.1.2</h3><p>思科 IOS 将应用内部逻辑。如前所述，ACE 是按照顺序处理的；因此，ACE 的输入顺序非常重要。</p>
<h3 id="8-1-2-1-dhcp"><a href="#8-1-2-1-dhcp" class="headerlink" title="8.1.2.1 dhcp"></a>8.1.2.1 dhcp</h3><p>要排除特定地址，请使用 <strong>ip dhcp excluded-address</strong> 命令。</p>
<p><strong>ip dhcp pool</strong> <em>池名称</em> 命令创建具有特定名称的地址池，并使路由器进入 DHCPv4 配置模式</p>
<p>必须配置地址池和默认网关路由器。使用 <strong>network</strong> 语句定义可用地址范围。</p>
<p>使用 <strong>default-router</strong> 命令定义默认网关路由器。通常，网关是最接近客户端设备的路由器的 LAN 接口。虽然只需要一个网关，但是如果有多个网关，您最多可以列出八个地址。</p>
<p>其他 DHCPv4 池命令为可选命令。例如，使用 <strong>dns-server</strong> 命令配置 DHCPv4 客户端可用的 DNS 服务器 IPv4 地址。<strong>domain-name</strong> <em>domain</em> 命令用于定义域名。使用 <strong>lease</strong> 命令可以更改 DHCPv4 租期。默认租用值为一天。<strong>netbios-name-server</strong> 命令用于定义 NetBIOS WINS 服务器。</p>
<p>要禁用此服务，请使用 <strong>no service dhcp</strong> 全局配置模式命令。使用 <strong>service dhcp</strong> 全局配置模式命令可重新启用 DHCPv4 服务器进程。如果没有配置参数，启用服务将不会有效果。</p>
<h3 id="8-1-2-3-dhcp中继"><a href="#8-1-2-3-dhcp中继" class="headerlink" title="8.1.2.3 dhcp中继"></a>8.1.2.3 dhcp中继</h3><p>如果将 R1 配置为 DHCPv4 中继代理，它会将请求转发至位于子网 192.168.11.0 的 DHCPv4 服务器。</p>
<figure class="highlight reasonml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs reasonml"><span class="hljs-constructor">R3(<span class="hljs-params">config</span>)</span># interface g0/<span class="hljs-number">0</span><br><span class="hljs-constructor">R3(<span class="hljs-params">config</span>-<span class="hljs-params">if</span>)</span># ip helper-address <span class="hljs-number">192.168</span>.<span class="hljs-number">11.6</span><br></code></pre></td></tr></table></figure>



<h2 id="7-2-1-6"><a href="#7-2-1-6" class="headerlink" title="7.2.1.6"></a>7.2.1.6</h2><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs stylus"><span class="hljs-function"><span class="hljs-title">R2</span><span class="hljs-params">(config)</span></span><span class="hljs-number">#acc</span>ess-list <span class="hljs-number">1</span> deny <span class="hljs-number">192.168</span>.<span class="hljs-number">11.0</span> <span class="hljs-number">0.0</span>.<span class="hljs-number">0.255</span><br><span class="hljs-function"><span class="hljs-title">R2</span><span class="hljs-params">(config)</span></span><span class="hljs-number">#acc</span>ess-list <span class="hljs-number">1</span> permit any<br><br><span class="hljs-function"><span class="hljs-title">R3</span><span class="hljs-params">(config)</span></span><span class="hljs-number">#acc</span>ess-list <span class="hljs-number">1</span> deny <span class="hljs-number">192.168</span>.<span class="hljs-number">10.0</span> <span class="hljs-number">0.0</span>.<span class="hljs-number">0.255</span><br><span class="hljs-function"><span class="hljs-title">R3</span><span class="hljs-params">(config)</span></span><span class="hljs-number">#acc</span>ess-list <span class="hljs-number">1</span> permit any<br><span class="hljs-function"><span class="hljs-title">R3</span><span class="hljs-params">(config-if)</span></span><span class="hljs-selector-id">#int</span> g0/<span class="hljs-number">0</span><br><span class="hljs-function"><span class="hljs-title">R3</span><span class="hljs-params">(config-if)</span></span><span class="hljs-selector-id">#ip</span> access-group <span class="hljs-number">1</span> out<br></code></pre></td></tr></table></figure>



<h2 id="7-2-1-7"><a href="#7-2-1-7" class="headerlink" title="7.2.1.7"></a>7.2.1.7</h2><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs stylus"><br><span class="hljs-function"><span class="hljs-title">R1</span><span class="hljs-params">(config)</span></span><span class="hljs-selector-id">#ip</span> access-list standard File_Server_Restrictions<br><span class="hljs-function"><span class="hljs-title">R1</span><span class="hljs-params">(config-std-nacl)</span></span><span class="hljs-selector-id">#permit</span> host <span class="hljs-number">192.168</span>.<span class="hljs-number">20.4</span><br><span class="hljs-function"><span class="hljs-title">R1</span><span class="hljs-params">(config-std-nacl)</span></span><span class="hljs-selector-id">#deny</span> any<br><span class="hljs-function"><span class="hljs-title">R1</span><span class="hljs-params">(config-if)</span></span><span class="hljs-selector-id">#int</span> f0/<span class="hljs-number">1</span><br><span class="hljs-function"><span class="hljs-title">R1</span><span class="hljs-params">(config-if)</span></span><span class="hljs-selector-id">#ip</span> access-group File_Server_Restrictions out<br></code></pre></td></tr></table></figure>

<h2 id="7-2-3-3"><a href="#7-2-3-3" class="headerlink" title="7.2.3.3"></a>7.2.3.3</h2><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs stylus"><span class="hljs-function"><span class="hljs-title">Router</span><span class="hljs-params">(config)</span></span><span class="hljs-number">#acc</span>ess-list <span class="hljs-number">99</span> permit host <span class="hljs-number">10.0</span>.<span class="hljs-number">0.1</span><br><span class="hljs-function"><span class="hljs-title">Router</span><span class="hljs-params">(config)</span></span><span class="hljs-selector-id">#line</span> vty <span class="hljs-number">0</span> <span class="hljs-number">15</span><br><span class="hljs-function"><span class="hljs-title">Router</span><span class="hljs-params">(config-line)</span></span><span class="hljs-number">#acc</span>ess-class <span class="hljs-number">99</span> i<br></code></pre></td></tr></table></figure>

<h2 id="8-1-3-3"><a href="#8-1-3-3" class="headerlink" title="8.1.3.3"></a>8.1.3.3</h2><figure class="highlight reasonml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><code class="hljs reasonml"><span class="hljs-constructor">R2(<span class="hljs-params">config</span>)</span>#ip dhcp excluded-address <span class="hljs-number">192.168</span>.<span class="hljs-number">10.1</span> <span class="hljs-number">192.168</span>.<span class="hljs-number">10.10</span><br><span class="hljs-constructor">R2(<span class="hljs-params">config</span>)</span>#ip dhcp excluded-address <span class="hljs-number">19</span>IP2.<span class="hljs-number">168.30</span>.<span class="hljs-number">1</span> <span class="hljs-number">192.168</span>.<span class="hljs-number">30.10</span><br><br><span class="hljs-constructor">R2(<span class="hljs-params">config</span>)</span>#ip dhcp pool R1-LAN<br><span class="hljs-constructor">R2(<span class="hljs-params">dhcp</span>-<span class="hljs-params">config</span>)</span>#network <span class="hljs-number">192.168</span>.<span class="hljs-number">10.0</span> <span class="hljs-number">255.255</span>.<span class="hljs-number">255.0</span><br><span class="hljs-constructor">R2(<span class="hljs-params">dhcp</span>-<span class="hljs-params">config</span>)</span>#default-router <span class="hljs-number">10.1</span>.<span class="hljs-number">1.2</span><br><span class="hljs-constructor">R2(<span class="hljs-params">dhcp</span>-<span class="hljs-params">config</span>)</span>#no default-router <span class="hljs-number">10.1</span>.<span class="hljs-number">1.2</span><br><span class="hljs-constructor">R2(<span class="hljs-params">dhcp</span>-<span class="hljs-params">config</span>)</span>#default-router <span class="hljs-number">192.168</span>.<span class="hljs-number">10.1</span><br><span class="hljs-constructor">R2(<span class="hljs-params">dhcp</span>-<span class="hljs-params">config</span>)</span>#dns-server <span class="hljs-number">192.168</span>.<span class="hljs-number">20.254</span><br><br><span class="hljs-constructor">R2(<span class="hljs-params">config</span>)</span>#ip dhcp pool R3-LAN<br><span class="hljs-constructor">R2(<span class="hljs-params">dhcp</span>-<span class="hljs-params">config</span>)</span>#netw<br><span class="hljs-constructor">R2(<span class="hljs-params">dhcp</span>-<span class="hljs-params">config</span>)</span>#network <span class="hljs-number">192.168</span>.<span class="hljs-number">30.0</span> <span class="hljs-number">255.255</span>.<span class="hljs-number">255.0</span><br><span class="hljs-constructor">R2(<span class="hljs-params">dhcp</span>-<span class="hljs-params">config</span>)</span>#dns<br><span class="hljs-constructor">R2(<span class="hljs-params">dhcp</span>-<span class="hljs-params">config</span>)</span>#dns-server <span class="hljs-number">192.168</span>.<span class="hljs-number">20.254</span><br><span class="hljs-constructor">R2(<span class="hljs-params">dhcp</span>-<span class="hljs-params">config</span>)</span>#def<br><span class="hljs-constructor">R2(<span class="hljs-params">dhcp</span>-<span class="hljs-params">config</span>)</span>#default-router <span class="hljs-number">192.168</span>.<span class="hljs-number">30.1</span><br><br><br><br><span class="hljs-constructor">R1(<span class="hljs-params">config</span>)</span>#<span class="hljs-built_in">int</span> g0/<span class="hljs-number">0</span><br><span class="hljs-constructor">R1(<span class="hljs-params">config</span>-<span class="hljs-params">if</span>)</span>#ip dh<br><span class="hljs-constructor">R1(<span class="hljs-params">config</span>-<span class="hljs-params">if</span>)</span>#ip he<br><span class="hljs-constructor">R1(<span class="hljs-params">config</span>-<span class="hljs-params">if</span>)</span>#ip help<br><span class="hljs-constructor">R1(<span class="hljs-params">config</span>-<span class="hljs-params">if</span>)</span>#ip helper-address <span class="hljs-number">10.1</span>.<span class="hljs-number">1.2</span><br><br><span class="hljs-constructor">R3(<span class="hljs-params">config</span>)</span>#<span class="hljs-built_in">int</span> g0/<span class="hljs-number">0</span><br><span class="hljs-constructor">R3(<span class="hljs-params">config</span>-<span class="hljs-params">if</span>)</span>#ip help<br><span class="hljs-constructor">R3(<span class="hljs-params">config</span>-<span class="hljs-params">if</span>)</span>#ip helper-address <span class="hljs-number">10.2</span>.<span class="hljs-number">2.2</span><br><br><span class="hljs-comment">//Step 1: Configure the Gigabit Ethernet 0/1 interface on R2 to receive IP addressing from DHCP and activate the interface.</span><br><span class="hljs-constructor">R2(<span class="hljs-params">config</span>)</span># interface g0/<span class="hljs-number">1</span><br><span class="hljs-constructor">R2(<span class="hljs-params">config</span>-<span class="hljs-params">if</span>)</span># ip address dhcp<br><span class="hljs-constructor">R2(<span class="hljs-params">config</span>-<span class="hljs-params">if</span>)</span># no shutdown<br></code></pre></td></tr></table></figure>

<h2 id="8-3-1-2"><a href="#8-3-1-2" class="headerlink" title="8.3.1.2"></a>8.3.1.2</h2><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br></pre></td><td class="code"><pre><code class="hljs stylus"><span class="hljs-function"><span class="hljs-title">S2</span><span class="hljs-params">(config)</span></span><span class="hljs-selector-id">#vlan</span> <span class="hljs-number">10</span><br><span class="hljs-function"><span class="hljs-title">S2</span><span class="hljs-params">(config-vlan)</span></span><span class="hljs-selector-id">#name</span> Sales<br><span class="hljs-function"><span class="hljs-title">S2</span><span class="hljs-params">(config-vlan)</span></span><span class="hljs-selector-id">#vlan</span> <span class="hljs-number">20</span><br><span class="hljs-function"><span class="hljs-title">S2</span><span class="hljs-params">(config-vlan)</span></span><span class="hljs-selector-id">#name</span> Production<br><span class="hljs-function"><span class="hljs-title">S2</span><span class="hljs-params">(config-vlan)</span></span><span class="hljs-selector-id">#vlan</span> <span class="hljs-number">30</span><br><span class="hljs-function"><span class="hljs-title">S2</span><span class="hljs-params">(config-vlan)</span></span><span class="hljs-selector-id">#name</span> Marketing<br><span class="hljs-function"><span class="hljs-title">S2</span><span class="hljs-params">(config-vlan)</span></span><span class="hljs-selector-id">#vlan</span> <span class="hljs-number">40</span><br><span class="hljs-function"><span class="hljs-title">S2</span><span class="hljs-params">(config-vlan)</span></span><span class="hljs-selector-id">#name</span> HR<br><span class="hljs-function"><span class="hljs-title">S2</span><span class="hljs-params">(config-vlan)</span></span>#ex<br><span class="hljs-function"><span class="hljs-title">S2</span><span class="hljs-params">(config)</span></span><span class="hljs-selector-id">#int</span> rang<br><span class="hljs-function"><span class="hljs-title">S2</span><span class="hljs-params">(config)</span></span><span class="hljs-selector-id">#int</span> range f0/<span class="hljs-number">5</span>-<span class="hljs-number">9</span><br><span class="hljs-function"><span class="hljs-title">S2</span><span class="hljs-params">(config-if-range)</span></span><span class="hljs-selector-id">#sw</span> m ac<br><span class="hljs-function"><span class="hljs-title">S2</span><span class="hljs-params">(config-if-range)</span></span><span class="hljs-selector-id">#sw</span> ac vlan <span class="hljs-number">10</span><br><span class="hljs-function"><span class="hljs-title">S2</span><span class="hljs-params">(config-if-range)</span></span><span class="hljs-selector-id">#int</span> range f0/<span class="hljs-number">10</span>-<span class="hljs-number">14</span><br><span class="hljs-function"><span class="hljs-title">S2</span><span class="hljs-params">(config-if-range)</span></span><span class="hljs-selector-id">#sw</span> m ac<br><span class="hljs-function"><span class="hljs-title">S2</span><span class="hljs-params">(config-if-range)</span></span><span class="hljs-selector-id">#sw</span> ac vlan <span class="hljs-number">20</span><br><span class="hljs-function"><span class="hljs-title">S2</span><span class="hljs-params">(config-if-range)</span></span><span class="hljs-selector-id">#int</span> range f0/<span class="hljs-number">15</span>-<span class="hljs-number">19</span><br><span class="hljs-function"><span class="hljs-title">S2</span><span class="hljs-params">(config-if-range)</span></span><span class="hljs-selector-id">#sw</span> m ac<br><span class="hljs-function"><span class="hljs-title">S2</span><span class="hljs-params">(config-if-range)</span></span><span class="hljs-selector-id">#sw</span> ac vlan <span class="hljs-number">30</span><br><span class="hljs-function"><span class="hljs-title">S2</span><span class="hljs-params">(config-if-range)</span></span><span class="hljs-selector-id">#int</span> range f0/<span class="hljs-number">20</span>-<span class="hljs-number">24</span><br><span class="hljs-function"><span class="hljs-title">S2</span><span class="hljs-params">(config-if-range)</span></span><span class="hljs-selector-id">#sw</span> m ac<br><span class="hljs-function"><span class="hljs-title">S2</span><span class="hljs-params">(config-if-range)</span></span><span class="hljs-selector-id">#sw</span> ac vlan <span class="hljs-number">40</span><br><br><span class="hljs-function"><span class="hljs-title">S2</span><span class="hljs-params">(config)</span></span><span class="hljs-selector-id">#int</span> f0/<span class="hljs-number">1</span><br><span class="hljs-function"><span class="hljs-title">S2</span><span class="hljs-params">(config-if)</span></span><span class="hljs-selector-id">#sw</span> m trunk <br><span class="hljs-function"><span class="hljs-title">S2</span><span class="hljs-params">(config-if)</span></span><span class="hljs-selector-id">#int</span> f0/<span class="hljs-number">2</span><br><span class="hljs-function"><span class="hljs-title">S2</span><span class="hljs-params">(config-if)</span></span><span class="hljs-selector-id">#sw</span> m trunk <br><span class="hljs-function"><span class="hljs-title">S2</span><span class="hljs-params">(config-if)</span></span><span class="hljs-selector-id">#int</span> f0/<span class="hljs-number">3</span><br><span class="hljs-function"><span class="hljs-title">S2</span><span class="hljs-params">(config-if)</span></span><span class="hljs-selector-id">#sw</span> m trunk<br><span class="hljs-function"><span class="hljs-title">S2</span><span class="hljs-params">(config-if)</span></span><span class="hljs-selector-id">#int</span> f0/<span class="hljs-number">4</span><br><span class="hljs-function"><span class="hljs-title">S2</span><span class="hljs-params">(config-if)</span></span><span class="hljs-selector-id">#sw</span> m trunk<br><br><span class="hljs-function"><span class="hljs-title">R1</span><span class="hljs-params">(config)</span></span><span class="hljs-selector-id">#int</span> g0/<span class="hljs-number">0.10</span><br><span class="hljs-function"><span class="hljs-title">R1</span><span class="hljs-params">(config-subif)</span></span><span class="hljs-selector-id">#encapsulation</span> dot1Q <span class="hljs-number">10</span><br><span class="hljs-function"><span class="hljs-title">R1</span><span class="hljs-params">(config-subif)</span></span><span class="hljs-selector-id">#ip</span> add <span class="hljs-number">172.31</span>.<span class="hljs-number">10.1</span> <span class="hljs-number">255.255</span>.<span class="hljs-number">255.224</span><br><span class="hljs-function"><span class="hljs-title">R1</span><span class="hljs-params">(config-subif)</span></span><span class="hljs-selector-id">#int</span> g0/<span class="hljs-number">0.20</span><br><span class="hljs-function"><span class="hljs-title">R1</span><span class="hljs-params">(config-subif)</span></span><span class="hljs-selector-id">#encapsulation</span> dot1Q <span class="hljs-number">20</span><br><span class="hljs-function"><span class="hljs-title">R1</span><span class="hljs-params">(config-subif)</span></span><span class="hljs-selector-id">#ip</span> add <span class="hljs-number">172.31</span>.<span class="hljs-number">20.1</span> <span class="hljs-number">255.255</span>.<span class="hljs-number">255.240</span><br><span class="hljs-function"><span class="hljs-title">R1</span><span class="hljs-params">(config-subif)</span></span><span class="hljs-selector-id">#int</span> g0/<span class="hljs-number">0.30</span><br><span class="hljs-function"><span class="hljs-title">R1</span><span class="hljs-params">(config-subif)</span></span><span class="hljs-selector-id">#encapsulation</span> dot1Q <span class="hljs-number">30</span><br><span class="hljs-function"><span class="hljs-title">R1</span><span class="hljs-params">(config-subif)</span></span><span class="hljs-selector-id">#ip</span> add <span class="hljs-number">172.31</span>.<span class="hljs-number">30.1</span> <span class="hljs-number">255.255</span>.<span class="hljs-number">255.128</span><br><span class="hljs-function"><span class="hljs-title">R1</span><span class="hljs-params">(config-subif)</span></span><span class="hljs-selector-id">#int</span> g0/<span class="hljs-number">0.40</span><br><span class="hljs-function"><span class="hljs-title">R1</span><span class="hljs-params">(config-subif)</span></span><span class="hljs-selector-id">#encapsulation</span> dot1Q <span class="hljs-number">40</span><br><span class="hljs-function"><span class="hljs-title">R1</span><span class="hljs-params">(config-subif)</span></span><span class="hljs-selector-id">#ip</span> add <span class="hljs-number">172.31</span>.<span class="hljs-number">40.1</span> <span class="hljs-number">255.255</span>.<span class="hljs-number">255.192</span><br><br><span class="hljs-function"><span class="hljs-title">R1</span><span class="hljs-params">(config)</span></span><span class="hljs-selector-id">#ip</span> dhcp pool VLAN_10<br><span class="hljs-function"><span class="hljs-title">R1</span><span class="hljs-params">(dhcp-config)</span></span><span class="hljs-selector-id">#dns-server</span> <span class="hljs-number">209.165</span>.<span class="hljs-number">201.14</span><br><span class="hljs-function"><span class="hljs-title">R1</span><span class="hljs-params">(dhcp-config)</span></span><span class="hljs-number">#def</span>ault-router <span class="hljs-number">172.31</span>.<span class="hljs-number">10.1</span> <br><span class="hljs-function"><span class="hljs-title">R1</span><span class="hljs-params">(dhcp-config)</span></span><span class="hljs-selector-id">#network</span> <span class="hljs-number">172.31</span>.<span class="hljs-number">10.0</span> <span class="hljs-number">255.255</span>.<span class="hljs-number">255.224</span><br><span class="hljs-function"><span class="hljs-title">R1</span><span class="hljs-params">(config)</span></span><span class="hljs-selector-id">#ip</span> dhcp pool VLAN_20<br><span class="hljs-function"><span class="hljs-title">R1</span><span class="hljs-params">(dhcp-config)</span></span><span class="hljs-selector-id">#dns-server</span> <span class="hljs-number">209.165</span>.<span class="hljs-number">201.14</span><br><span class="hljs-function"><span class="hljs-title">R1</span><span class="hljs-params">(dhcp-config)</span></span><span class="hljs-selector-id">#network</span> <span class="hljs-number">172.31</span>.<span class="hljs-number">20.0</span> <span class="hljs-number">255.255</span>.<span class="hljs-number">255.240</span><br><span class="hljs-function"><span class="hljs-title">R1</span><span class="hljs-params">(dhcp-config)</span></span><span class="hljs-number">#def</span>ault-router <span class="hljs-number">172.31</span>.<span class="hljs-number">20.1</span><br><span class="hljs-function"><span class="hljs-title">R1</span><span class="hljs-params">(config)</span></span><span class="hljs-selector-id">#ip</span> dhcp pool VLAN_30<br><span class="hljs-function"><span class="hljs-title">R1</span><span class="hljs-params">(dhcp-config)</span></span><span class="hljs-selector-id">#network</span> <span class="hljs-number">172.31</span>.<span class="hljs-number">30.1</span> <span class="hljs-number">255.255</span>.<span class="hljs-number">255.128</span><br><span class="hljs-function"><span class="hljs-title">R1</span><span class="hljs-params">(dhcp-config)</span></span><span class="hljs-selector-id">#dns-server</span> <span class="hljs-number">209.165</span>.<span class="hljs-number">201.14</span><br><span class="hljs-function"><span class="hljs-title">R1</span><span class="hljs-params">(dhcp-config)</span></span><span class="hljs-number">#def</span>ault-router <span class="hljs-number">172.31</span>.<span class="hljs-number">30.1</span><br><br><br><span class="hljs-function"><span class="hljs-title">R1</span><span class="hljs-params">(config)</span></span><span class="hljs-selector-id">#ip</span> dhcp excluded-<span class="hljs-selector-tag">address</span> <span class="hljs-number">172.31</span>.<span class="hljs-number">10.1</span> <span class="hljs-number">172.31</span>.<span class="hljs-number">10.10</span><br><span class="hljs-function"><span class="hljs-title">R1</span><span class="hljs-params">(config)</span></span><span class="hljs-selector-id">#ip</span> dhcp excluded-<span class="hljs-selector-tag">address</span> <span class="hljs-number">172.31</span>.<span class="hljs-number">20.1</span> <span class="hljs-number">172.31</span>.<span class="hljs-number">20.10</span><br><span class="hljs-function"><span class="hljs-title">R1</span><span class="hljs-params">(config)</span></span><span class="hljs-selector-id">#ip</span> dhcp excluded-<span class="hljs-selector-tag">address</span> <span class="hljs-number">172.31</span>.<span class="hljs-number">30.1</span> <span class="hljs-number">172.31</span>.<span class="hljs-number">30.10</span><br><span class="hljs-function"><span class="hljs-title">R1</span><span class="hljs-params">(config)</span></span><span class="hljs-selector-id">#ip</span> dhcp excluded-<span class="hljs-selector-tag">address</span> <span class="hljs-number">172.31</span>.<span class="hljs-number">40.1</span> <span class="hljs-number">172.31</span>.<span class="hljs-number">40.10</span><br></code></pre></td></tr></table></figure>

<h2 id="第九章"><a href="#第九章" class="headerlink" title="第九章"></a>第九章</h2><h3 id="9-1-2-1-静态nat"><a href="#9-1-2-1-静态nat" class="headerlink" title="9.1.2.1 静态nat"></a>9.1.2.1 静态nat</h3><p>NAT 转换有三种类型：</p>
<ul>
<li><p><strong>静态地址转换（静态 NAT）</strong>- 本地地址和全局地址之间的一对一地址映射。</p>
</li>
<li><p><strong>动态地址转换（动态 NAT）</strong>- 本地地址和全局地址之间的多对多地址映射。转换在可用的基础上进行：例如，如果有 100 个内部本地地址和 10 个内部全局地址，则任何时候都只能转换 100 个内部本地地址中的 10 个地址。动态 NAT 的这种限制使得它在用于生产网络时没有端口地址转换那么实用。</p>
</li>
<li><p><strong>端口地址转换 (PAT)</strong> - 本地地址和全局地址之间的多对一地址映射。此方法也称为过载（NAT 过载）。例如，如果有 100 个内部本地地址以及 10 个内部全局地址，PAT 使用端口作为附加参数来提供乘数效应，从而支持重复使用 10 个内部全局地址中的任何一个地址，重复次数高达 65,536 次（这取决于通信流是基于 UDP、TCP 还是 ICMP）。</p>
<p>  <strong>show ip nat translations</strong>。</p>
</li>
</ul>
<h3 id="9-2-1-4"><a href="#9-2-1-4" class="headerlink" title="9.2.1.4"></a>9.2.1.4</h3><p>Ip nat inside static <em>Inside_local_IP_address</em> <em>Inside_global_IP_address</em></p>
<p>Ip nat inside static <em>Outside_global_IP_address</em> <em>Outside_local_IP_address</em></p>
<figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs stylus"><span class="hljs-function"><span class="hljs-title">R1</span><span class="hljs-params">(config)</span></span><span class="hljs-selector-id">#ip</span> nat inside source static <span class="hljs-number">172.16</span>.<span class="hljs-number">16.1</span> <span class="hljs-number">64.100</span>.<span class="hljs-number">50.1</span><br><span class="hljs-function"><span class="hljs-title">R1</span><span class="hljs-params">(config)</span></span><span class="hljs-selector-id">#ip</span> nat outside source static <span class="hljs-number">64.100</span>.<span class="hljs-number">50.1</span> <span class="hljs-number">209.165</span>.<span class="hljs-number">128.130</span><br>(config)<span class="hljs-selector-id">#int</span> g0/<span class="hljs-number">0</span><br><span class="hljs-function"><span class="hljs-title">R1</span><span class="hljs-params">(config-if)</span></span><span class="hljs-selector-id">#ip</span> nat inside <br><span class="hljs-function"><span class="hljs-title">R1</span><span class="hljs-params">(config-if)</span></span><span class="hljs-selector-id">#int</span> s0/<span class="hljs-number">0</span>/<span class="hljs-number">0</span><br><span class="hljs-function"><span class="hljs-title">R1</span><span class="hljs-params">(config-if)</span></span><span class="hljs-selector-id">#ip</span> nat outside <br></code></pre></td></tr></table></figure>

<h3 id="9-2-2-2-配置动态nat"><a href="#9-2-2-2-配置动态nat" class="headerlink" title="9.2.2.2 配置动态nat"></a>9.2.2.2 配置动态nat</h3><img src="/2020/03/31/cisco%E8%AF%BE%E7%A8%8B%E4%BB%A3%E7%A0%81%E8%AE%B0%E5%BD%95/image-20200527220001298.png" srcset="/img/loading.gif" lazyload class="" title="image-20200527220001298">

<h3 id="9-2-2-5"><a href="#9-2-2-5" class="headerlink" title="9.2.2.5"></a>9.2.2.5</h3><figure class="highlight reasonml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs reasonml"><span class="hljs-constructor">R2(<span class="hljs-params">config</span>)</span>#access-<span class="hljs-built_in">list</span> <span class="hljs-number">1</span> permit <span class="hljs-number">172.16</span>.<span class="hljs-number">0.0</span> <span class="hljs-number">0.0</span>.<span class="hljs-number">255.255</span><br><span class="hljs-constructor">R2(<span class="hljs-params">config</span>)</span>#ip nat pool DYNAMIC <span class="hljs-number">209.165</span>.<span class="hljs-number">76.196</span> <span class="hljs-number">209.165</span>.<span class="hljs-number">76.199</span> netmask <span class="hljs-number">255.255</span>.<span class="hljs-number">255.</span><br><span class="hljs-comment">// Associate ACL1 with the NAT pool.</span><br><span class="hljs-constructor">R2(<span class="hljs-params">config</span>)</span>#ip nat inside source <span class="hljs-built_in">list</span> <span class="hljs-number">1</span> pool DYNAMIC<br><span class="hljs-constructor">R2(<span class="hljs-params">config</span>)</span># interface s0/<span class="hljs-number">0</span>/<span class="hljs-number">0</span><br><span class="hljs-constructor">R2(<span class="hljs-params">config</span>-<span class="hljs-params">if</span>)</span># ip nat outside<br><span class="hljs-constructor">R2(<span class="hljs-params">config</span>-<span class="hljs-params">if</span>)</span># interface s0/<span class="hljs-number">0</span>/<span class="hljs-number">1</span><br><span class="hljs-constructor">R2(<span class="hljs-params">config</span>-<span class="hljs-params">if</span>)</span># ip nat inside<br></code></pre></td></tr></table></figure>

<h3 id="9-2-3-1-配置PAT：地址池"><a href="#9-2-3-1-配置PAT：地址池" class="headerlink" title="9.2.3.1 配置PAT：地址池"></a>9.2.3.1 配置PAT：地址池</h3><img src="/2020/03/31/cisco%E8%AF%BE%E7%A8%8B%E4%BB%A3%E7%A0%81%E8%AE%B0%E5%BD%95/image-20200527231311081.png" srcset="/img/loading.gif" lazyload class="" title="image-20200527231311081">

<p><strong>overload</strong> 关键字会启用 PAT。</p>
<h3 id="9-2-3-6"><a href="#9-2-3-6" class="headerlink" title="9.2.3.6"></a>9.2.3.6</h3><figure class="highlight reasonml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><code class="hljs reasonml"><span class="hljs-constructor">R2(<span class="hljs-params">config</span>)</span># ip access-<span class="hljs-built_in">list</span> standard R2NAT<br><span class="hljs-constructor">R2(<span class="hljs-params">config</span>-<span class="hljs-params">std</span>-<span class="hljs-params">nacl</span>)</span># permit <span class="hljs-number">192.168</span>.<span class="hljs-number">10.0</span> <span class="hljs-number">0.0</span>.<span class="hljs-number">0.255</span><br><span class="hljs-constructor">R2(<span class="hljs-params">config</span>-<span class="hljs-params">std</span>-<span class="hljs-params">nacl</span>)</span># permit <span class="hljs-number">192.168</span>.<span class="hljs-number">20.0</span> <span class="hljs-number">0.0</span>.<span class="hljs-number">0.255</span><br><span class="hljs-constructor">R2(<span class="hljs-params">config</span>-<span class="hljs-params">std</span>-<span class="hljs-params">nacl</span>)</span># permit <span class="hljs-number">192.168</span>.<span class="hljs-number">30.0</span> <span class="hljs-number">0.0</span>.<span class="hljs-number">0.255</span><br><br><span class="hljs-comment">//使用名为 R2POOL 的 NAT 池配置 R2，该 NAT 池使用 209.165.202.128/30 地址空间中的第一个地址。</span><br><span class="hljs-constructor">R2(<span class="hljs-params">config</span>)</span># ip nat pool R2POOL <span class="hljs-number">209.165</span>.<span class="hljs-number">202.129</span> <span class="hljs-number">209.165</span>.<span class="hljs-number">202.129</span> netmask <span class="hljs-number">255.255</span>.<span class="hljs-number">255.</span><br><span class="hljs-comment">//将命名 ACL 与 NAT 池相关联，并启用 PAT。</span><br><span class="hljs-constructor">R2(<span class="hljs-params">config</span>)</span># ip nat inside source <span class="hljs-built_in">list</span> R2NAT pool R2POOL overload<br><br><span class="hljs-comment">//使用相应的内部和外部 NAT 命令配置 R2 接口。</span><br><span class="hljs-constructor">R2(<span class="hljs-params">config</span>)</span># inte fa0/<span class="hljs-number">0</span><br><span class="hljs-constructor">R2(<span class="hljs-params">config</span>-<span class="hljs-params">if</span>)</span># ip nat inside<br><span class="hljs-constructor">R2(<span class="hljs-params">config</span>-<span class="hljs-params">if</span>)</span># inte s0/<span class="hljs-number">0</span>/<span class="hljs-number">0</span><br><span class="hljs-constructor">R2(<span class="hljs-params">config</span>-<span class="hljs-params">if</span>)</span># ip nat inside<br><span class="hljs-constructor">R2(<span class="hljs-params">config</span>-<span class="hljs-params">if</span>)</span># inte s0/<span class="hljs-number">0</span>/<span class="hljs-number">1</span><br><span class="hljs-constructor">R2(<span class="hljs-params">config</span>-<span class="hljs-params">if</span>)</span># ip nat inside<br><span class="hljs-constructor">R2(<span class="hljs-params">config</span>-<span class="hljs-params">if</span>)</span># inte s0/<span class="hljs-number">1</span>/<span class="hljs-number">0</span><br><span class="hljs-constructor">R2(<span class="hljs-params">config</span>-<span class="hljs-params">if</span>)</span># ip nat outside<br><br><span class="hljs-comment">//请参考拓扑结构。 创建静态 NAT 转换，以将 local.pka 内部地址映射至其外部地址</span><br><span class="hljs-constructor">R2(<span class="hljs-params">config</span>)</span># ip nat inside source static <span class="hljs-number">192.168</span>.<span class="hljs-number">20.254</span> <span class="hljs-number">209.165</span>.<span class="hljs-number">202.130</span><br></code></pre></td></tr></table></figure>

<h3 id="9-3-1-4"><a href="#9-3-1-4" class="headerlink" title="9.3.1.4"></a>9.3.1.4</h3><figure class="highlight reasonml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs reasonml"><span class="hljs-comment">//Correct the Interfaces.</span><br><span class="hljs-comment">//Assign the ip nat inside and ip nat outside commands to the correct ports.</span><br><br><span class="hljs-constructor">R2(<span class="hljs-params">config</span>)</span># interface Serial0/<span class="hljs-number">0</span>/<span class="hljs-number">0</span><br><span class="hljs-constructor">R2(<span class="hljs-params">config</span>-<span class="hljs-params">if</span>)</span># ip nat outside<br><span class="hljs-constructor">R2(<span class="hljs-params">config</span>-<span class="hljs-params">if</span>)</span># interface Serial0/<span class="hljs-number">0</span>/<span class="hljs-number">1</span><br><span class="hljs-constructor">R2(<span class="hljs-params">config</span>-<span class="hljs-params">if</span>)</span># ip nat inside<br><br><span class="hljs-comment">//Correct the Access-list.</span><br><span class="hljs-comment">//Delete access-list 101 and replace it with a similar list that is also one statement in length. The only difference should be the wildcard.</span><br><br><span class="hljs-constructor">R2(<span class="hljs-params">config</span>)</span># no access-<span class="hljs-built_in">list</span> <span class="hljs-number">101</span><br><span class="hljs-constructor">R2(<span class="hljs-params">config</span>)</span># access-<span class="hljs-built_in">list</span> <span class="hljs-number">101</span> permit ip <span class="hljs-number">10.4</span>.<span class="hljs-number">10.0</span> <span class="hljs-number">0.0</span>.<span class="hljs-number">1.255</span> any<br></code></pre></td></tr></table></figure>

<h3 id="9-4-1-2"><a href="#9-4-1-2" class="headerlink" title="9.4.1.2"></a>9.4.1.2</h3><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs stylus"><span class="hljs-function"><span class="hljs-title">Switch</span><span class="hljs-params">(config)</span></span><span class="hljs-selector-id">#host</span> HQ-SW<br><span class="hljs-function"><span class="hljs-title">HQ-SW</span><span class="hljs-params">(config)</span></span><span class="hljs-selector-id">#ip</span> domain-name cisco.com<br><span class="hljs-function"><span class="hljs-title">HQ-SW</span><span class="hljs-params">(config)</span></span><span class="hljs-selector-id">#crypto</span> key generate rsa<br>How many bits <span class="hljs-keyword">in</span> the modulus <span class="hljs-selector-attr">[512]</span>: <span class="hljs-number">1024</span><br><span class="hljs-function"><span class="hljs-title">HQ-SW</span><span class="hljs-params">(config)</span></span><span class="hljs-selector-id">#username</span> HQadmin password ciscoclass<br><span class="hljs-function"><span class="hljs-title">HQ-SW</span><span class="hljs-params">(config)</span></span><span class="hljs-selector-id">#ip</span> ssh version <span class="hljs-number">2</span><br><span class="hljs-function"><span class="hljs-title">HQ-SW</span><span class="hljs-params">(config)</span></span><span class="hljs-selector-id">#ip</span> ssh authentication-retries <span class="hljs-number">2</span><br><span class="hljs-function"><span class="hljs-title">HQ-SW</span><span class="hljs-params">(config)</span></span><span class="hljs-selector-id">#ip</span> ssh time-out <br><span class="hljs-function"><span class="hljs-title">HQ-SW</span><span class="hljs-params">(config)</span></span><span class="hljs-selector-id">#line</span> vty <span class="hljs-number">0</span> <span class="hljs-number">15</span><br><span class="hljs-function"><span class="hljs-title">HQ-SW</span><span class="hljs-params">(config-line)</span></span><span class="hljs-selector-id">#login</span> local<br><span class="hljs-function"><span class="hljs-title">HQ-SW</span><span class="hljs-params">(config-line)</span></span><span class="hljs-selector-id">#transport</span> <span class="hljs-selector-tag">input</span> ssh<br><span class="hljs-function"><span class="hljs-title">HQ-SW</span><span class="hljs-params">(config)</span></span><span class="hljs-selector-id">#service</span> password-encryption <br></code></pre></td></tr></table></figure>



















<h2 id="考题记录"><a href="#考题记录" class="headerlink" title="考题记录"></a>考题记录</h2><blockquote>
<p>ospf管理距离为110</p>
</blockquote>
<img src="/2020/03/31/cisco%E8%AF%BE%E7%A8%8B%E4%BB%A3%E7%A0%81%E8%AE%B0%E5%BD%95/image-20200303201755734.png" srcset="/img/loading.gif" lazyload class="" title="image-20200303201755734">

<img src="/2020/03/31/cisco%E8%AF%BE%E7%A8%8B%E4%BB%A3%E7%A0%81%E8%AE%B0%E5%BD%95/image-20200303202527458.png" srcset="/img/loading.gif" lazyload class="" title="image-20200303202527458">

<p>DNS 53端口 即是UDP也是TCP</p>
<img src="/2020/03/31/cisco%E8%AF%BE%E7%A8%8B%E4%BB%A3%E7%A0%81%E8%AE%B0%E5%BD%95/image-20200326091219029.png" srcset="/img/loading.gif" lazyload class="" title="image-20200326091219029">

<blockquote>
<p>What happens to a static route entry in a routing table when the outgoing interface is not available?<br><strong>The route is removed from the table.</strong></p>
</blockquote>
<img src="/2020/03/31/cisco%E8%AF%BE%E7%A8%8B%E4%BB%A3%E7%A0%81%E8%AE%B0%E5%BD%95/image-20200409112857408.png" srcset="/img/loading.gif" lazyload class="" title="image-20200409112857408">

<img src="/2020/03/31/cisco%E8%AF%BE%E7%A8%8B%E4%BB%A3%E7%A0%81%E8%AE%B0%E5%BD%95/image-20200415131256177.png" srcset="/img/loading.gif" lazyload class="" title="image-20200415131256177">

<img src="/2020/03/31/cisco%E8%AF%BE%E7%A8%8B%E4%BB%A3%E7%A0%81%E8%AE%B0%E5%BD%95/image-20200415131821432.png" srcset="/img/loading.gif" lazyload class="" title="image-20200415131821432">

<img src="/2020/03/31/cisco%E8%AF%BE%E7%A8%8B%E4%BB%A3%E7%A0%81%E8%AE%B0%E5%BD%95/image-20200415131935464.png" srcset="/img/loading.gif" lazyload class="" title="image-20200415131935464">

<img src="/2020/03/31/cisco%E8%AF%BE%E7%A8%8B%E4%BB%A3%E7%A0%81%E8%AE%B0%E5%BD%95/image-20200415132300377.png" srcset="/img/loading.gif" lazyload class="" title="image-20200415132300377">

<img src="/2020/03/31/cisco%E8%AF%BE%E7%A8%8B%E4%BB%A3%E7%A0%81%E8%AE%B0%E5%BD%95/image-20200415132637432.png" srcset="/img/loading.gif" lazyload class="" title="image-20200415132637432">

<p>匹配最长</p>
<img src="/2020/03/31/cisco%E8%AF%BE%E7%A8%8B%E4%BB%A3%E7%A0%81%E8%AE%B0%E5%BD%95/image-20200415132753057.png" srcset="/img/loading.gif" lazyload class="" title="image-20200415132753057">

<img src="/2020/03/31/cisco%E8%AF%BE%E7%A8%8B%E4%BB%A3%E7%A0%81%E8%AE%B0%E5%BD%95/image-20200415132849136.png" srcset="/img/loading.gif" lazyload class="" title="image-20200415132849136">

<img src="/2020/03/31/cisco%E8%AF%BE%E7%A8%8B%E4%BB%A3%E7%A0%81%E8%AE%B0%E5%BD%95/image-20200415132945261.png" srcset="/img/loading.gif" lazyload class="" title="image-20200415132945261">

<img src="/2020/03/31/cisco%E8%AF%BE%E7%A8%8B%E4%BB%A3%E7%A0%81%E8%AE%B0%E5%BD%95/image-20200415133009739.png" srcset="/img/loading.gif" lazyload class="" title="image-20200415133009739">

<img src="/2020/03/31/cisco%E8%AF%BE%E7%A8%8B%E4%BB%A3%E7%A0%81%E8%AE%B0%E5%BD%95/image-20200415133124039.png" srcset="/img/loading.gif" lazyload class="" title="image-20200415133124039">

<img src="/2020/03/31/cisco%E8%AF%BE%E7%A8%8B%E4%BB%A3%E7%A0%81%E8%AE%B0%E5%BD%95/image-20200415133146490.png" srcset="/img/loading.gif" lazyload class="" title="image-20200415133146490">

<img src="/2020/03/31/cisco%E8%AF%BE%E7%A8%8B%E4%BB%A3%E7%A0%81%E8%AE%B0%E5%BD%95/image-20200415133211622.png" srcset="/img/loading.gif" lazyload class="" title="image-20200415133211622">

<img src="/2020/03/31/cisco%E8%AF%BE%E7%A8%8B%E4%BB%A3%E7%A0%81%E8%AE%B0%E5%BD%95/image-20200415133305998.png" srcset="/img/loading.gif" lazyload class="" title="image-20200415133305998">

<blockquote>
<p>模块化交换机通过使用线路卡提供了容错和带宽可用性与将来扩展的功能，但实施成本非常昂贵。堆叠式交换机通过在交换机之间使用特殊电缆提供容错和带宽可用性，并且比模块化交换机的实施成本低。非堆叠式交换机不提供这些功能。固定配置交换机是不支持自带功能以外功能的单个交换机。</p>
</blockquote>
<p>交换机分层设计模型有哪三层？</p>
<blockquote>
<p>接入层是最低层，它为用户提供网络访问。分布层具有很多功能，但是它聚合接入层的数据，提供过滤、策略控制并设置第 3 层路由边界。核心层提供高速连接。</p>
</blockquote>
<blockquote>
<p>为提高效率、可扩展性和成本效益，建议建立从一个中心站点到所有其他园区站点的扩展星型拓扑。网状拓扑更昂贵，总线和双环拓扑更难进行故障排除和维护。</p>
</blockquote>
<p>网络设计师何时会关注 RU？</p>
<p>何时考虑端口密度<br>何时计算最大端口速度<br>何时确定可用的线卡数量<br>何时购买用于网络机架的特定数量的交换机</p>
<blockquote>
<p>机架单元或 RU 是与交换机高度相关的一项特定测量。1 RU 交换机的额定值小于 2 RU 交换机的额定值。端口密度测量交换机上的端口数。模块化影响可用线卡的数量。端口速度测量可流过给定端口的每秒比特数。</p>
<p>正确答案是：何时购买用于网络机架的特定数量的交换机</p>
</blockquote>
<p>融合网络中的自动话务员功能提供什么服务？</p>
<p>点对点视频<br>呼叫路由<br>IT 管理接口<br>视频会议</p>
<blockquote>
<p>自动话务员功能通过将呼叫直接路由到个人或部门，从而加快语音服务的速度。点对点视频和视频会议说明了融合网络中的视频服务。IT 管理接口是融合网络解决方案的一部分，能够让 IT 人员通过统一应用执行移动、添加和更改等操作。</p>
</blockquote>
<p>正确答案是：呼叫路由</p>
<p>哪两个特征描述了融合网络？（请选择两项。）</p>
<p>降低了服务呼叫<br>使用相同的交换机支持语音和视频<br>语音和视频流量的单独布线基础设施<br>中小型企业的可负担性<br>更低的设备成本</p>
<blockquote>
<p>融合网络具有传统的用户流量以及数字化语音和视频流量，这些流量以前需要单独的网络。现在，不再是单独的组管理单独的网络，一组人员即可管理网络。</p>
</blockquote>
<p>正确答案是：使用相同的交换机支持语音和视频, 中小型企业的可负担性</p>
<h3 id="What-type-of-network-uses-one-common-infrastructure-to-carry-voice-data-and-video-signals"><a href="#What-type-of-network-uses-one-common-infrastructure-to-carry-voice-data-and-video-signals" class="headerlink" title="What type of network uses one common infrastructure to carry voice, data, and video signals?"></a>What type of network uses one common infrastructure to carry voice, data, and video signals?</h3><ul>
<li><p>switched</p>
</li>
<li><p>borderless</p>
</li>
<li><p>converged</p>
</li>
<li><p>managed</p>
<blockquote>
<p><strong>Explanation:</strong>A converged network has only one physical network to install and manage. This results in substantial savings over the installation and management of separate voice, video, and data networks.</p>
</blockquote>
</li>
</ul>
<h3 id="Which-solution-would-help-a-college-alleviate-network-congestion-due-to-collisions"><a href="#Which-solution-would-help-a-college-alleviate-network-congestion-due-to-collisions" class="headerlink" title="Which solution would help a college alleviate network congestion due to collisions?"></a>Which solution would help a college alleviate network congestion due to collisions?</h3><ul>
<li><p>a firewall that connects to two Internet providers</p>
</li>
<li><p>a high port density switch</p>
</li>
<li><p>a router with two Ethernet ports</p>
</li>
<li><p>a router with three Ethernet ports</p>
<blockquote>
<p><strong>Explanation:</strong>Switches provide microsegmentation so that one device does not compete for the same Ethernet network bandwidth with another network device, thus practically eliminating collisions. A high port density switch provides very fast connectivity for many devices.</p>
</blockquote>
</li>
</ul>
<p>alleviate：减轻</p>
<p>congestion：拥塞</p>
<p>collisions：碰撞</p>
<h3 id="What-is-a-basic-function-of-the-Cisco-Borderless-Architecture-distribution-layer"><a href="#What-is-a-basic-function-of-the-Cisco-Borderless-Architecture-distribution-layer" class="headerlink" title="What is a basic function of the Cisco Borderless Architecture distribution layer?"></a>What is a basic function of the Cisco Borderless Architecture distribution layer?</h3><ul>
<li><p>acting as a backbone</p>
</li>
<li><p>aggregating all the campus blocks</p>
</li>
<li><p>aggregating Layer 3 routing boundaries</p>
</li>
<li><p>providing access to end user devices</p>
<blockquote>
<p><strong>Explanation:</strong>One of the basic functions of the distribution layer of the Cisco Borderless Architecture is to perform routing between different VLANs. Acting as a backbone and aggregating campus blocks are functions of the core layer. Providing access to end user devices is a function of the access layer.</p>
</blockquote>
</li>
</ul>
<h3 id="A-network-designer-must-provide-a-rationale-to-a-customer-for-a-design-which-will-move-an-enterprise-from-a-flat-network-topology-to-a-hierarchical-network-topology-Which-two-features-of-the-hierarchical-design-make-it-the-better-choice-Choose-two"><a href="#A-network-designer-must-provide-a-rationale-to-a-customer-for-a-design-which-will-move-an-enterprise-from-a-flat-network-topology-to-a-hierarchical-network-topology-Which-two-features-of-the-hierarchical-design-make-it-the-better-choice-Choose-two" class="headerlink" title="A network designer must provide a rationale to a customer for a design which will move an enterprise from a flat network topology to a hierarchical network topology. Which two features of the hierarchical design make it the better choice? (Choose two.)"></a>A network designer must provide a rationale to a customer for a design which will move an enterprise from a flat network topology to a hierarchical network topology. Which two features of the hierarchical design make it the better choice? (Choose two.)</h3><ul>
<li><p>lower bandwidth requirements</p>
</li>
<li><p>reduced cost for equipment and user training</p>
</li>
<li><p>easier to provide redundant links to ensure higher availability</p>
</li>
<li><p>less required equipment to provide the same performance levels</p>
</li>
<li><p>simpler deployment for additional switch equipment</p>
<blockquote>
<p><strong>Explanation:</strong>A hierarchical design for switches helps network administrators when planning and deploying a network expansion, performing fault isolation when a problem occurs, and providing resiliency when traffic levels are high. A good hierarchical design has redundancy when it can be afforded so that one switch does not cause all networks to be down.</p>
</blockquote>
</li>
</ul>
<h3 id="What-does-the-term-“port-density”-represent-for-an-Ethernet-switch"><a href="#What-does-the-term-“port-density”-represent-for-an-Ethernet-switch" class="headerlink" title="What does the term “port density” represent for an Ethernet switch?"></a>What does the term “port density” represent for an Ethernet switch?</h3><ul>
<li><p>the memory space that is allocated to each switch port</p>
</li>
<li><p>the number of available ports</p>
</li>
<li><p>the numbers of hosts that are connected to each switch port</p>
</li>
<li><p>the speed of each port</p>
<blockquote>
<p><strong>Explanation:</strong>The term port density represents the number of ports available in a switch. A one rack unit access switch can have up to 48 ports. Larger switches may support hundreds of ports.</p>
</blockquote>
</li>
</ul>
<h3 id="What-is-a-definition-of-a-two-tier-LAN-network-design"><a href="#What-is-a-definition-of-a-two-tier-LAN-network-design" class="headerlink" title="What is a definition of a two-tier LAN network design?"></a>What is a definition of a two-tier LAN network design?</h3><ul>
<li><p>access and core layers collapsed into one tier, and the distribution layer on a separate tier</p>
</li>
<li><p>access and distribution layers collapsed into one tier, and the core layer on a separate tier</p>
</li>
<li><p>distribution and core layers collapsed into one tier, and the access layer on a separate tier</p>
</li>
<li><p>access, distribution, and core layers collapsed into one tier, with a separate backbone layer</p>
<blockquote>
<p><strong>Explanation:</strong>Maintaining three separate network tiers is not always required or cost-efficient. All network designs require an access layer, but a two-tier design can collapse the distribution and core layers into one layer to serve the needs of a small location with few users.</p>
</blockquote>
</li>
</ul>
<h3 id="What-are-two-reasons-a-network-administrator-would-segment-a-network-with-a-Layer-2-switch-Choose-two"><a href="#What-are-two-reasons-a-network-administrator-would-segment-a-network-with-a-Layer-2-switch-Choose-two" class="headerlink" title="What are two reasons a network administrator would segment a network with a Layer 2 switch? (Choose two.)"></a>What are two reasons a network administrator would segment a network with a Layer 2 switch? (Choose two.)</h3><ul>
<li><p>to create fewer collision domains</p>
</li>
<li><p>to enhance user bandwidth</p>
</li>
<li><p>to create more broadcast domains</p>
</li>
<li><p>to eliminate virtual circuits</p>
</li>
<li><p>to isolate traffic between segments</p>
</li>
<li><p>to isolate ARP request messages from the rest of the network</p>
<blockquote>
<p><strong>Explanation:</strong>A switch has the ability of creating temporary point-to-point connections between the directly-attached transmitting and receiving network devices. The two devices have full-bandwidth full-duplex connectivity during the transmission.</p>
</blockquote>
</li>
</ul>
<blockquote>
<p>A collapsed core design is appropriate for a small, single building business. This type of design uses two layers (the collapsed core and distribution layers consolidated into one layer and the access layer). Larger businesses use the traditional three-tier switch design model</p>
</blockquote>
<h3 id="Which-statement-describes-a-result-after-multiple-Cisco-LAN-switches-are-interconnected"><a href="#Which-statement-describes-a-result-after-multiple-Cisco-LAN-switches-are-interconnected" class="headerlink" title="Which statement describes a result after multiple Cisco LAN switches are interconnected?"></a>Which statement describes a result after multiple Cisco LAN switches are interconnected?</h3><ul>
<li><p>The broadcast domain expands to all switches.</p>
</li>
<li><p>One collision domain exists per switch.</p>
</li>
<li><p>Frame collisions increase on the segments connecting the switches.</p>
</li>
<li><p>There is one broadcast domain and one collision domain per switch.</p>
<blockquote>
<p><strong>Explanation:</strong>In Cisco LAN switches, the microsegmentation makes it possible for each port to represent a separate segment and thus each switch port represents a separate collision domain. This fact will not change when multiple switches are interconnected. However, LAN switches do not filter broadcast frames. A broadcast frame is flooded to all ports. Interconnected switches form one big broadcast domain.</p>
</blockquote>
</li>
</ul>
<h3 id="What-are-two-advantages-of-modular-switches-over-fixed-configuration-switches-Choose-two"><a href="#What-are-two-advantages-of-modular-switches-over-fixed-configuration-switches-Choose-two" class="headerlink" title="What are two advantages of modular switches over fixed-configuration switches? (Choose two.)"></a>What are two advantages of modular switches over fixed-configuration switches? (Choose two.)</h3><ul>
<li><p>lower cost per switch</p>
</li>
<li><p>increased scalability</p>
</li>
<li><p>lower forwarding rates</p>
</li>
<li><p>need for fewer power outlets</p>
</li>
<li><p>availability of multiple ports for bandwidth aggregation</p>
<blockquote>
<p><strong>Explanation:</strong>Fixed-configuration switches, although lower in price, have a designated number of ports and no ability to add ports. They also typically provide fewer high-speed ports. In order to scale switching on a network that consists of fixed-configuration switches, more switches need to be purchased. This increases the number of power outlets that need to be used. Modular switches can be scaled simply by purchasing additional line cards. Bandwidth aggregation is also easier, because the backplane of the chassis can provide the bandwidth that is needed for the switch port line cards.</p>
</blockquote>
</li>
</ul>
<h3 id="What-two-criteria-are-used-by-a-Cisco-LAN-switch-to-decide-how-to-forward-Ethernet-frames-Choose-two"><a href="#What-two-criteria-are-used-by-a-Cisco-LAN-switch-to-decide-how-to-forward-Ethernet-frames-Choose-two" class="headerlink" title="What two criteria are used by a Cisco LAN switch to decide how to forward Ethernet frames? (Choose two.)"></a>What two criteria are used by a Cisco LAN switch to decide how to forward Ethernet frames? (Choose two.)</h3><ul>
<li><p>path cost</p>
</li>
<li><p>egress port</p>
</li>
<li><p>ingress port</p>
</li>
<li><p>destination IP address</p>
</li>
<li><p>destination MAC address</p>
<blockquote>
<p><strong>Explanation:</strong>Cisco LAN switches use the MAC address table to make decisions of traffic forwarding. The decisions are based on the ingress port and the destination MAC address of the frame. The ingress port information is important because it carries the VLAN to which the port belongs.</p>
</blockquote>
</li>
</ul>
<h3 id="What-is-one-function-of-a-Layer-2-switch"><a href="#What-is-one-function-of-a-Layer-2-switch" class="headerlink" title="What is one function of a Layer 2 switch?"></a>What is one function of a Layer 2 switch?</h3><ul>
<li><p>forwards data based on logical addressing</p>
</li>
<li><p>duplicates the electrical signal of each frame to every port</p>
</li>
<li><p>learns the port assigned to a host by examining the destination MAC address</p>
</li>
<li><p>determines which interface is used to forward a frame based on the destination MAC address</p>
<blockquote>
<p><strong>Explanation:</strong>A switch builds a MAC address table of MAC addresses and associated port numbers by examining the source MAC address found in inbound frames. To forward a frame onward, the switch examines the destination MAC address, looks in the MAC address for a port number associated with that destination MAC address, and sends it to the specific port. If the destination MAC address is not in the table, the switch forwards the frame out all ports except the inbound port that originated the frame.</p>
</blockquote>
</li>
</ul>
<h3 id="Which-network-device-can-be-used-to-eliminate-collisions-on-an-Ethernet-network"><a href="#Which-network-device-can-be-used-to-eliminate-collisions-on-an-Ethernet-network" class="headerlink" title="Which network device can be used to eliminate collisions on an Ethernet network?"></a>Which network device can be used to eliminate collisions on an Ethernet network?</h3><ul>
<li><p>firewall</p>
</li>
<li><p>hub</p>
</li>
<li><p>router</p>
</li>
<li><p>switch</p>
<blockquote>
<p><strong>Explanation:</strong>A switch provides microsegmentation so that no other device competes for the same Ethernet network bandwidth.</p>
</blockquote>
</li>
</ul>
<h3 id="What-is-the-destination-address-in-the-header-of-a-broadcast-frame"><a href="#What-is-the-destination-address-in-the-header-of-a-broadcast-frame" class="headerlink" title="What is the destination address in the header of a broadcast frame?"></a>What is the destination address in the header of a broadcast frame?</h3><p>FF-FF-FF-FF-FF-FF</p>
<blockquote>
<p>A converged network provides a single infrastructure that combines voice, video, and data. Analog phones, user data, and point-to-point video traffic are all contained within the single network infrastructure of a converged network.</p>
</blockquote>
<p>打开交换机时，启动顺序中的第一个操作是什么？</p>
<p>A. 加载默认 Cisco IOS 软件</p>
<p>B. 加载启动加载器软件</p>
<p>C. 低级 CPU 初始化</p>
<p>D. 加载加电自检程序</p>
<blockquote>
<p><strong>答案</strong></p>
<p>D. 交换机启动后的第一个操作是 POST（加电自检）。POST 对 CPU、内存和闪存进行测试，以准备加载启动加载器。</p>
</blockquote>
<p>网络管理员配置了 VLAN 99 作为管理 VLAN，并为其配置 IP 地址和子网掩码。管理员发出 show interface vlan 99 命令并注意到线路协议处于关闭状态。以下哪项操作可以将线路协议的状态更改为开启？</p>
<p>A. 将主机连接到与 VLAN 99 相关联的接口</p>
<p>B. 配置默认网关</p>
<p>C. 从 VLAN 99 中删除所有接入端口</p>
<p>D. 在 vty 线路上配置传输输入法</p>
<blockquote>
<p><strong>答案</strong></p>
<p>A. 一旦 SVI 配置了 IP 地址和子网掩码，即可用于远程管理。当 SVI VLAN 有一个活动端口与之关联时，SVI 接口处于活动状态。</p>
</blockquote>
<p>攻击者已经绕过物理安全并且可以将笔记本电脑连接到交换机上的以太网接口。如果所有交换机端口都配置了端口安全，并且违规模式设置为出厂默认设置，则针对攻击者采取哪项操作？</p>
<p>A. 具有未知源地址的数据包被丢弃，并且没有已发生安全违规的通知。。</p>
<p>B. 具有未知源地址的数据包被丢弃，并且有已发生安全违规的通知。</p>
<p>C. 具有未知源地址的数据包被丢弃，并且接口进入错误禁用状态并关闭端口 LED。</p>
<p>D. 具有未知源地址的数据包被转发，并且会向 syslog 服务器发送通知。</p>
<blockquote>
<p><strong>答案</strong></p>
<p>C. 默认违规模式已关闭。在此模式下，端口安全违规将造成接口立即变为错误禁用 (error-disabled) 状态，并关闭端口 LED。该模式还会发送 SNMP 陷阱、将 syslog 消息记入日志，以及逐渐增加违规计数器的计数。</p>
</blockquote>
<img src="/2020/03/31/cisco%E8%AF%BE%E7%A8%8B%E4%BB%A3%E7%A0%81%E8%AE%B0%E5%BD%95/download.png" srcset="/img/loading.gif" lazyload class="" title="i291241n1v4.png">

<p>似乎是交换机的默认配置。</p>
<p>使用交换机时，造成不完全以太网帧的潜在原因是什么？</p>
<p>A. 双工配置错误</p>
<p>B. 线缆过长</p>
<p>C. 延迟冲突</p>
<p>D. NIC 故障</p>
<blockquote>
<p><strong>答案</strong></p>
<p>D. 不完全帧即小于 64 字节的帧，所允许的最小值是以太帧。该类型帧通常是由于 NIC 故障或过度冲突。两端配置错误可能导致连接问题。线缆过长可能产生 CRC 错误和/或延迟冲突。</p>
</blockquote>
<p><strong>端口速度 LED</strong> - 表示选择了端口速度模式。 选择后，端口 LED 将显示不同含义的颜色。 如果 LED 不亮，则端口运行速度为 10 Mb/s。 如果 LED 为绿色，则端口运行速度为 100 Mb/s。 如果 LED 为绿色闪烁，则端口运行速度为 1000 Mb/s。</p>
<p>下列哪项操作可以将错误禁用交换机端口返回至运行状态？</p>
<p>A. 在接口上删除并重新配置端口安全</p>
<p>B. 在接口上发出 switchport mode access 命令</p>
<p>C. 清除交换机上的 MAC 地址表</p>
<p>D. 发出 shutdown 和 no shutdown 接口命令</p>
<p><strong>答案</strong></p>
<p>Option 4. 当配置了端口安全的交换机端口出现违规时会将违规操作关闭，端口将置为 err-disabled 状态。可以通过关闭接口然后发出 no shutdown 命令重新启用接口。</p>
<img src="/2020/03/31/cisco%E8%AF%BE%E7%A8%8B%E4%BB%A3%E7%A0%81%E8%AE%B0%E5%BD%95/image-20200519101713958.png" srcset="/img/loading.gif" lazyload class="" title="image-20200519101713958">

<img src="/2020/03/31/cisco%E8%AF%BE%E7%A8%8B%E4%BB%A3%E7%A0%81%E8%AE%B0%E5%BD%95/image-20200519102510122.png" srcset="/img/loading.gif" lazyload class="" title="image-20200519102510122">



<p>交换机引导加载程序的功能是什么？</p>
<p>A. 加快引导过程</p>
<p>B. 提供交换机启动时的脆弱状态安全</p>
<p>C. 控制启动过程中交换机的可用 RAM 量</p>
<p>D. 提供无法找到交换机操作系统时的操作环境</p>
<blockquote>
<p><strong>答案</strong></p>
<p>Option 4 在交换机找不到有效操作系统时，显示交换机启动加载程序环境。启动加载程序环境提供一些基本命令来允许网络管理员重新加载操作系统或者提供操作系统的备选位置。</p>
</blockquote>
<p>哪一命令用于设置定义交换机上 IOS 映像查找位置的 BOOT 环境变量？</p>
<ul>
<li><strong>boot system</strong></li>
</ul>
<p>哪个接口是包含用于管理 24 个端口以太网交换机的 IP 地址的默认位置？</p>
<ul>
<li>VLAN 1</li>
</ul>

            </div>
            <hr>
            <div>
              <div class="post-metas mb-3">
                
                  <div class="post-meta mr-3">
                    <i class="iconfont icon-category"></i>
                    
                      <a class="hover-with-bg" href="/categories/%E4%B8%93%E4%B8%9A%E5%AD%A6%E4%B9%A0/">专业学习</a>
                    
                  </div>
                
                
                  <div class="post-meta">
                    <i class="iconfont icon-tags"></i>
                    
                      <a class="hover-with-bg" href="/tags/%E4%B8%93%E4%B8%9A%E5%AD%A6%E4%B9%A0/">专业学习</a>
                    
                  </div>
                
              </div>
              
                <p class="note note-warning">
                  
                    本博客所有文章除特别声明外，均采用 <a target="_blank" href="https://creativecommons.org/licenses/by-sa/4.0/deed.zh" rel="nofollow noopener noopener">CC BY-SA 4.0 协议</a> ，转载请注明出处！
                  
                </p>
              
              
                <div class="post-prevnext">
                  <article class="post-prev col-6">
                    
                    
                      <a href="/2020/04/03/django%E5%AD%A6%E4%B9%A0%E8%AE%B0%E5%BD%95/">
                        <i class="iconfont icon-arrowleft"></i>
                        <span class="hidden-mobile">django学习记录</span>
                        <span class="visible-mobile">上一篇</span>
                      </a>
                    
                  </article>
                  <article class="post-next col-6">
                    
                    
                      <a href="/2020/03/25/%E5%B8%B8%E7%94%A8%E5%A5%BD%E7%94%A8%E7%9A%84%E5%BF%AB%E6%8D%B7%E9%94%AE%EF%BC%88Win%EF%BC%89/">
                        <span class="hidden-mobile">常用好用的快捷键（Win）</span>
                        <span class="visible-mobile">下一篇</span>
                        <i class="iconfont icon-arrowright"></i>
                      </a>
                    
                  </article>
                </div>
              
            </div>

            
              <!-- Comments -->
              <article class="comments" id="comments" lazyload>
                
                  
                
                
  <script type="text/javascript">
    Fluid.utils.lazyComments('comments', function() {
      var light = 'github-light';
      var dark = 'github-dark';
      var schema = document.documentElement.getAttribute('data-user-color-scheme');
      if (schema === 'dark') {
        schema = dark;
      } else {
        schema = light;
      }
      window.UtterancesThemeLight = light;
      window.UtterancesThemeDark = dark;
      var s = document.createElement('script');
      s.setAttribute('src', 'https://utteranc.es/client.js');
      s.setAttribute('repo', 'mrbelieve128/mrbelieve128.github.io');
      s.setAttribute('issue-term', 'pathname');
      
      s.setAttribute('label', 'utterances');
      
      s.setAttribute('theme', schema);
      s.setAttribute('crossorigin', 'anonymous');
      document.getElementById('comments').appendChild(s);
    })
  </script>
  <noscript>Please enable JavaScript to view the comments</noscript>


              </article>
            
          </article>
        </div>
      </div>
    </div>
    
      <div class="d-none d-lg-block col-lg-2 toc-container" id="toc-ctn">
        <div id="toc">
  <p class="toc-header"><i class="iconfont icon-list"></i>&nbsp;目录</p>
  <div class="toc-body" id="toc-body"></div>
</div>

      </div>
    
  </div>
</div>

<!-- Custom -->


    

    
      <a id="scroll-top-button" href="#" role="button">
        <i class="iconfont icon-arrowup" aria-hidden="true"></i>
      </a>
    

    
      <div class="modal fade" id="modalSearch" tabindex="-1" role="dialog" aria-labelledby="ModalLabel"
     aria-hidden="true">
  <div class="modal-dialog modal-dialog-scrollable modal-lg" role="document">
    <div class="modal-content">
      <div class="modal-header text-center">
        <h4 class="modal-title w-100 font-weight-bold">搜索</h4>
        <button type="button" id="local-search-close" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body mx-3">
        <div class="md-form mb-5">
          <input type="text" id="local-search-input" class="form-control validate">
          <label data-error="x" data-success="v"
                 for="local-search-input">关键词</label>
        </div>
        <div class="list-group" id="local-search-result"></div>
      </div>
    </div>
  </div>
</div>
    

    
  </main>

  <footer class="text-center mt-5 py-3">
  <div class="footer-content">
     <a href="https://hexo.io" target="_blank" rel="nofollow noopener"><span>Hexo</span></a> <i class="iconfont icon-love"></i> <a href="https://github.com/fluid-dev/hexo-theme-fluid" target="_blank" rel="nofollow noopener"><span>Fluid</span></a> 
  </div>
  
  <div class="statistics">
    
    

    
      
        <!-- 不蒜子统计PV -->
        <span id="busuanzi_container_site_pv" style="display: none">
            总访问量 
            <span id="busuanzi_value_site_pv"></span>
             次
          </span>
      
      
        <!-- 不蒜子统计UV -->
        <span id="busuanzi_container_site_uv" style="display: none">
            总访客数 
            <span id="busuanzi_value_site_uv"></span>
             人
          </span>
      
    
  </div>


  
  <!-- 备案信息 -->
  <div class="beian">
    <span>
      <a href="http://beian.miit.gov.cn/" target="_blank" rel="nofollow noopener">
        浙ICP备19033044号
      </a>
    </span>
    
  </div>


  
</footer>


  <!-- SCRIPTS -->
  
  <script  src="https://cdn.jsdelivr.net/npm/nprogress@0.2.0/nprogress.min.js" ></script>
  <link  rel="stylesheet" href="https://cdn.jsdelivr.net/npm/nprogress@0.2.0/nprogress.min.css" />

  <script>
    NProgress.configure({"showSpinner":false,"trickleSpeed":100})
    NProgress.start()
    window.addEventListener('load', function() {
      NProgress.done();
    })
  </script>


<script  src="https://cdn.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.min.js" ></script>
<script  src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/js/bootstrap.min.js" ></script>
<script  src="/js/debouncer.js" ></script>
<script  src="/js/events.js" ></script>
<script  src="/js/plugins.js" ></script>

<!-- Plugins -->


  
    <script  src="/js/img-lazyload.js" ></script>
  



  



  <script  src="https://cdn.jsdelivr.net/npm/tocbot@4.12.0/dist/tocbot.min.js" ></script>



  <script  src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.js" ></script>



  <script  src="https://cdn.jsdelivr.net/npm/anchor-js@4.3.0/anchor.min.js" ></script>



  <script defer src="https://cdn.jsdelivr.net/npm/clipboard@2.0.6/dist/clipboard.min.js" ></script>



  <script defer src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js" ></script>




  <script  src="https://cdn.jsdelivr.net/npm/typed.js@2.0.11/lib/typed.min.js" ></script>
  <script>
    (function (window, document) {
      var typing = Fluid.plugins.typing;
      var title = document.getElementById('subtitle').title;
      
      typing(title)
      
    })(window, document);
  </script>



  <script  src="/js/local-search.js" ></script>
  <script>
    (function () {
      var path = "/local-search.xml";
      $('#local-search-input').on('click', function() {
        searchFunc(path, 'local-search-input', 'local-search-result');
      });
      $('#modalSearch').on('shown.bs.modal', function() {
        $('#local-search-input').focus();
      });
    })()
  </script>















<!-- 主题的启动项 保持在最底部 -->
<script  src="/js/boot.js" ></script>


</body>
</html>
